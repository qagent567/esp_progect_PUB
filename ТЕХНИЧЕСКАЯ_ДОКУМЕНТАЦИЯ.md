# üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: AgriSwarm

**–í–µ—Ä—Å–∏—è:** 0.3.5-1
**–î–∞—Ç–∞:** 30 —Å–µ–Ω—Ç—è–±—Ä—è 2025 –≥.
**–ê–≤—Ç–æ—Ä—ã:** –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞)
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–µ–ª—å—Å–∫–æ–≥–æ —Ö–æ–∑—è–π—Å—Ç–≤–∞ –Ω–∞ –±–∞–∑–µ ESP32 —Å mesh-—Å–µ—Ç—å—é, CLI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

---

## üìñ –û–±–∑–æ—Ä –°–∏—Å—Ç–µ–º—ã

AgriSwarm ‚Äì —ç—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è IoT-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤. –û–Ω–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö ESP32, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç mesh-—Å–µ—Ç—å –¥–ª—è —Å–≤—è–∑–∏ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç CLI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –¥–∞—Ç—á–∏–∫–∏ (DHT22, –∞–Ω–∞–ª–æ–≥–æ–≤—ã–µ), –∞–∫—Ç—É–∞—Ç–æ—Ä—ã (—Ä–µ–ª–µ, LED), –ø—Ä–∞–≤–∏–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –¥–∞—Ç—á–∏–∫–æ–≤ (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –≤–ª–∞–∂–Ω–æ—Å—Ç—å, –∞–Ω–∞–ª–æ–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã).
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:** IF-THEN –ø—Ä–∞–≤–∏–ª–∞ —Å –∫—É–ª–¥–∞—É–Ω–∞–º–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á.
- **–°–µ—Ç—å:** Mesh-—Å–µ—Ç—å –Ω–∞ –±–∞–∑–µ painlessMesh (–¥–æ 20 —É–∑–ª–æ–≤).
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** CLI —Å 131 –∫–æ–º–∞–Ω–¥–æ–π —á–µ—Ä–µ–∑ Serial.
- **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** 8 –º–æ–¥—É–ª–µ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–ø–∞–º—è—Ç—å, —Å–µ—Ç—å, –¥–∞—Ç—á–∏–∫–∏).
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ó–∞—â–∏—Ç–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã (Watchdog, SafeMemory, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞).

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **–¢–∏–ø:** –ú–æ–¥—É–ª—å–Ω—ã–π –ú–æ–Ω–æ–ª–∏—Ç —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –º–∏–∫—Ä–æ—è–¥—Ä–∞.
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** ESP32 (520KB RAM, 4MB Flash).
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:** Arduino, painlessMesh, ArduinoJson, LittleFS, SPIFFS.
- **–°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞:** 26,522 (–æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ + –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ ~17%).

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –°–∏—Å—Ç–µ–º—ã

### –í—ã—Å–æ–∫–∏–π –£—Ä–æ–≤–µ–Ω—å
–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º—ã—Ö –≤ `main.cpp`. –ö–∞–∂–¥—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä ‚Äì singleton —Å —á–µ—Ç–∫–∏–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏. –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö: –î–∞—Ç—á–∏–∫–∏ ‚Üí –û–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üí –°–µ—Ç—å ‚Üí –ê–∫—Ç—É–∞—Ç–æ—Ä—ã.

**–ö–ª—é—á–µ–≤—ã–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (35+ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤):**
- **–û—Å–Ω–æ–≤–Ω—ã–µ (8):** ConfigManager, NetworkManager, PinManager, RuleEngine, TaskScheduler, NodeManager, MessageQueueManager, AlgorithmScheduler.
- **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (8):** SystemMonitor, MeshReliabilityManager, MeshPerformanceMonitor, ConnectionLossDetector, MeshStatisticsManager, PingManager, SelfReflectionSystem, SensorConnectionMonitor.
- **–ó–∞—â–∏—Ç–∞ (4):** SafeMemory, SafeMath, SafeCommandParser, SystemMonitor (Watchdog).
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (3):** CommandExecutor (CLI), InteractiveHelper (–º–∞—Å—Ç–µ—Ä–∞), Logger.
- **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ (12):** AutoConnectionManager, SensorPublisher, ActuatorPublisher, HostManager, TrustedNodeManager, NotificationSystem, etc.

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (src/main.cpp)
```cpp
// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
ConfigManager configManager;
MeshNetworkManager networkManager(configManager);
// ... –¥—Ä—É–≥–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã ...

void setup() {
    Serial.begin(115200);
    configManager.loadFromFile();  // –ó–∞–≥—Ä—É–∑–∫–∞ JSON-–∫–æ–Ω—Ñ–∏–≥–∞
    networkManager.init();         // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WiFi/mesh
    pinManager.setupPins();        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GPIO
    // ... –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö ...
}

void loop() {
    networkManager.handleClient();  // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–∏
    SystemMonitor::getInstance().loopStart();  // –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
    commandExecutor.handleSerialInput();  // CLI –≤–≤–æ–¥
    // ... –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ ...
}
```

### –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –°—Ö–µ–º–∞)
- –î–∞—Ç—á–∏–∫–∏ ‚Üí PinManager ‚Üí RuleEngine/AlgorithmScheduler ‚Üí –ê–∫—Ç—É–∞—Ç–æ—Ä—ã.
- –°–µ—Ç—å: NetworkManager ‚Üî MessageQueueManager ‚Üî –£–¥–∞–ª–µ–Ω–Ω—ã–µ —É–∑–ª—ã.
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –í—Å–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã ‚Üí –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏ ‚Üí –õ–æ–≥–∏/—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.

---

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –°–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –ú–µ–Ω–µ–¥–∂–µ—Ä—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –ü—Ä–∏–º–µ—Ä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
|-----------|------|--------|----------------|-----------------------|
| **ConfigManager** | src/ConfigManager.cpp | 655 | –ó–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ JSON –∏–∑ LittleFS | `config.loadFromFile("config.json")` |
| **NetworkManager** | src/NetworkManager.cpp | 948 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ mesh-—Å–µ—Ç—å—é –∏ WiFi | `networkManager.sendMessage(nodeId, message)` |
| **PinManager** | src/PinManager.cpp | 1635 | GPIO, –¥–∞—Ç—á–∏–∫–∏ (DHT22), —Ä–µ–ª–µ | `pinManager.setupPin(4, DHT22, "temp1")` |
| **RuleEngine** | src/RuleEngine.cpp | 518 | IF-THEN –ø—Ä–∞–≤–∏–ª–∞ —Å –∫—É–ª–¥–∞—É–Ω–∞–º–∏ | `ruleEngine.checkRules(sensorData)` |
| **TaskScheduler** | src/Scheduler.cpp | 192 | –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –ø–æ –≤—Ä–µ–º–µ–Ω–∏ | `taskScheduler.addTask(task, interval)` |
| **NodeManager** | src/NodeManager.cpp | 244 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞–º–∏ —Å–µ—Ç–∏ | `nodeManager.getNodeInfo(nodeId)` |
| **MessageQueueManager** | src/MessageQueueManager.cpp | 231 | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π | `messageQueue.enqueue(message, priority)` |
| **AlgorithmScheduler** | src/AlgorithmScheduler.cpp | 759 | ML –∏ —Å–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã | `algorithmScheduler.processSensorData(data)` |

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –°–∏—Å—Ç–µ–º—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –§—É–Ω–∫—Ü–∏—è | –ü—Ä–∏–º–µ—Ä |
|-----------|------|--------|---------|--------|
| **SystemMonitor** | src/SystemMonitor.cpp | 274 | Watchdog, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏ | `SystemMonitor::feedWatchdog()` |
| **MeshReliabilityManager** | src/MeshReliabilityManager.cpp | 642 | –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π | `reliability.update()` |
| **MeshPerformanceMonitor** | src/MeshPerformanceMonitor.cpp | 244 | –ú–µ—Ç—Ä–∏–∫–∏ –∑–∞–¥–µ—Ä–∂–µ–∫ | `performance.getPingStats()` |
| **ConnectionLossDetector** | src/ConnectionLossDetector.cpp | 690 | –î–µ—Ç–µ–∫—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π —É–∑–ª–æ–≤ | `detector.checkNodeStatus(nodeId)` |
| **MeshStatisticsManager** | src/MeshStatisticsManager.cpp | 1052 | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ | `statistics.getNetworkStats()` |
| **PingManager** | src/PingManager.cpp | 762 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∏–Ω–≥–∞ | `pingManager.pingNode(nodeId)` |
| **SelfReflectionSystem** | src/SelfReflectionSystem.cpp | 414 | –°–∞–º–æ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | `reflection.analyzeSystem()` |
| **SensorConnectionMonitor** | src/SensorConnectionMonitor.cpp | 828 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∞—Ç—á–∏–∫–æ–≤ | `monitor.checkSensorHealth(pin)` |

### –ó–∞—â–∏—Ç–Ω—ã–µ –ú–µ—Ö–∞–Ω–∏–∑–º—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –ó–∞—â–∏—Ç–∞ –û—Ç | –ü—Ä–∏–º–µ—Ä |
|-----------|------|--------|-----------|--------|
| **SafeMemory** | include/SafeMemory.h | 211 | –£—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ | `safeAlloc(size)` |
| **SafeMath** | include/SafeMath.h | 89 | –û—à–∏–±–æ–∫ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ | `safeDivide(a, b)` |
| **SafeCommandParser** | src/SafeCommandParser.cpp | 85 | Buffer overflow | `parser.parse(input)` |

---

## üîå API –∏ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### CLI –ö–æ–º–∞–Ω–¥—ã (131 –∫–æ–º–∞–Ω–¥–∞, src/CommandExecutor.cpp)
–ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º. –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤ `include/Commands.h`.

**–û—Å–Ω–æ–≤–Ω—ã–µ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏:**
- **–°–∏—Å—Ç–µ–º–∞:** `help`, `status`, `reboot`, `memory`.
- **–°–µ—Ç—å:** `mesh info`, `node list`, `ping <node>`.
- **GPIO:** `pin set <pin> <state>`, `dht read <pin>`.
- **–ü—Ä–∞–≤–∏–ª–∞:** `rule add <condition> <action>`, `rule list`.
- **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** `diag run`, `stats network`, `log level <level>`.

**–ü—Ä–∏–º–µ—Ä –°–µ—Å—Å–∏–∏:**
```bash
> help
–ö–æ–º–∞–Ω–¥—ã: help, status, pin set, rule add, diag run...

> pin set 4 1  # –í–∫–ª—é—á–∏—Ç—å —Ä–µ–ª–µ –Ω–∞ GPIO 4
OK

> rule add temp1 > 25 fan1 = 1  # –ü—Ä–∞–≤–∏–ª–æ: –µ—Å–ª–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ >25, –≤–∫–ª—é—á–∏—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä
–ü—Ä–∞–≤–∏–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

> diag run  # –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
–ü–∞–º—è—Ç—å: 245KB —Å–≤–æ–±–æ–¥–Ω–æ, –°–µ—Ç—å: 3 —É–∑–ª–∞, –î–∞—Ç—á–∏–∫–∏: OK
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π API (–ü—Ä–∏–º–µ—Ä—ã –∏–∑ –∫–æ–¥–∞)
- **PinManager:** `pinManager.updateSensors()` ‚Äì –æ–ø—Ä–æ—Å –¥–∞—Ç—á–∏–∫–æ–≤.
- **RuleEngine:** `ruleEngine.processSensorData(data)` ‚Äì –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö.
- **NetworkManager:** `networkManager.broadcast(message)` ‚Äì –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤—Å–µ–º —É–∑–ª–∞–º.

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ:** ESP32 (NodeMCU, Wemos D1), –¥–∞—Ç—á–∏–∫–∏ (DHT22), —Ä–µ–ª–µ, LED.
- **–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ:** PlatformIO (–∏–ª–∏ Arduino IDE), –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ `platformio.ini`.
- **–°—Ä–µ–¥–∞:** Windows/Linux, USB –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏.

### –®–∞–≥–∏ –£—Å—Ç–∞–Ω–æ–≤–∫–∏
1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `git clone <repo>`.
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –í PlatformIO: `pio run --target upload`.
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥:** –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `data/config.json` (WiFi, –ø–∏–Ω—ã, –ø—Ä–∞–≤–∏–ª–∞).
4. **–ü—Ä–æ—à–µ–π—Ç–µ:** –ü–æ–¥–∫–ª—é—á–∏—Ç–µ ESP32, –∑–∞–ø—É—Å—Ç–∏—Ç–µ `pio run --target upload`.
5. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å:** –ß–µ—Ä–µ–∑ Serial Monitor (115200 baud) –¥–ª—è CLI.

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (data/config.json)
```json
{
  "wifi": {"ssid": "MyWiFi", "password": "pass"},
  "mesh": {"prefix": "/agriswarm/", "port": 5555},
  "pins": [
    {"gpio": 4, "type": "DHT22", "name": "temp1"},
    {"gpio": 5, "type": "RELAY", "name": "fan1"}
  ],
  "rules": [
    {"condition": "temp1 > 25", "action": "fan1 = 1", "cooldown": 60}
  ]
}
```

---

## üîç –û—Ç–ª–∞–¥–∫–∞ –∏ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –ö–æ–º–∞–Ω–¥—ã
- `diag memory` ‚Äì –ø—Ä–æ–≤–µ—Ä–∫–∞ RAM/Flash.
- `diag network` ‚Äì —Å—Ç–∞—Ç—É—Å mesh-—Å–µ—Ç–∏.
- `diag sensors` ‚Äì —Ç–µ—Å—Ç –¥–∞—Ç—á–∏–∫–æ–≤.
- `diag full` ‚Äì –ø–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞.

### –õ–æ–≥–∏ (src/Logger.cpp)
- –£—Ä–æ–≤–Ω–∏: ERROR, WARN, INFO, DEBUG.
- –í—ã–≤–æ–¥: Serial + SPIFFS —Ñ–∞–π–ª.
- –ü—Ä–∏–º–µ—Ä: `Logger::info("System started")`.

### –¢–∏–ø–∏—á–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã
- **–°–µ—Ç—å –Ω–µ —Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `mesh_prefix` –≤ –∫–æ–Ω—Ñ–∏–≥–µ.
- **–î–∞—Ç—á–∏–∫–∏ –Ω–µ —á–∏—Ç–∞—é—Ç—Å—è:** –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö GPIO (–Ω–µ 6-11 –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö).
- **–ü–∞–º—è—Ç—å –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è:** –£–º–µ–Ω—å—à–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç–µ –º–æ–¥—É–ª–∏.
- **–ó–∞–≤–∏—Å–∞–Ω–∏—è:** Watchdog –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç —Å–∏—Å—Ç–µ–º—É.

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –†–µ—Å—É—Ä—Å—ã ESP32
- **RAM:** ~200-300KB —Å–≤–æ–±–æ–¥–Ω–æ (–∏–∑ 520KB).
- **Flash:** ~1-2MB –¥–ª—è –∫–æ–¥–∞ + –¥–∞–Ω–Ω—ã—Ö (–∏–∑ 4MB).
- **CPU:** ~20-40% –∑–∞–≥—Ä—É–∑–∫–∞ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–µ—Ç–∏/–¥–∞—Ç—á–∏–∫–æ–≤).
- **–≠–Ω–µ—Ä–≥–∏—è:** ~100-200mA (WiFi –∞–∫—Ç–∏–≤–µ–Ω).

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –°–µ—Ç–∏
- **–ó–∞–¥–µ—Ä–∂–∫–∏:** 0-2000ms (ping).
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è:** –î–æ 100 —Å–æ–æ–±—â–µ–Ω–∏–π/—Å–µ–∫.
- **–£–∑–ª—ã:** 1-20 –≤ mesh.
- **–°–±–æ–∏:** –ê–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ AutoConnectionManager.

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¢–µ–ø–ª–∏—Ü—ã
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ DHT22 –Ω–∞ GPIO 4 (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞).
- –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–ª–µ –Ω–∞ GPIO 5 (–≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä).
- –ü—Ä–∞–≤–∏–ª–æ: `rule add temp1 > 28 fan1 = 1`.
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä –≤–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–≥—Ä–µ–≤–µ.

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ü–æ—á–≤—ã
- –ê–Ω–∞–ª–æ–≥–æ–≤—ã–π –¥–∞—Ç—á–∏–∫ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –Ω–∞ GPIO 32.
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ —Å–µ—Ç—å: `sensor pub soil1`.
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: –ü—Ä–∏ –Ω–∏–∑–∫–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ ‚Äì –∞–ª–µ—Ä—Ç.

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ú–Ω–æ–≥–æ—É–∑–ª–æ–≤–∞—è –°–µ—Ç—å
- 3 ESP32: –û–¥–∏–Ω —Ö–æ—Å—Ç, –¥–≤–∞ –∫–ª–∏–µ–Ω—Ç–∞.
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —á–µ—Ä–µ–∑ mesh.

---

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ù–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π

### –û–±—â–∏–µ –ü—Ä–æ–±–ª–µ–º—ã
- **–ö–æ–º–ø–∏–ª—è—Ü–∏—è:** –£–±–µ–¥–∏—Ç–µ—Å—å –≤ PlatformIO –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö.
- **–ü—Ä–æ—à–∏–≤–∫–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç (COMx).
- **–°–µ—Ç—å:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSID/–ø–∞—Ä–æ–ª—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ.
- **–î–∞—Ç—á–∏–∫–∏:** –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å `pin test <gpio>`.

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** `stats` –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ª–æ–≥–æ–≤.
- **–û—Ç–ª–∞–¥–∫–∞:** –í–∫–ª—é—á–∏—Ç–µ DEBUG –ª–æ–≥.
- **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:** `reboot` –∏–ª–∏ —Å–±—Ä–æ—Å –∫–Ω–æ–ø–∫–æ–π.

---

## üìö –°—Å—ã–ª–∫–∏ –∏ –†–µ—Å—É—Ä—Å—ã

- **–ö–æ–¥:** –ü–æ–ª–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub.
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –°–º. –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã –≤ `–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞/`.
- **–§–æ—Ä—É–º:** –î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ ‚Äì –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ GitHub Issues.
- **–õ–∏—Ü–µ–Ω–∑–∏—è:** MIT (open-source).

---

–≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –∞–Ω–∞–ª–∏–∑–µ 26,522 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞, 131 CLI-–∫–æ–º–∞–Ω–¥—ã –∏ 35+ –º–æ–¥—É–ª–µ–π. –û–Ω–∞ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –ï—Å–ª–∏ –Ω—É–∂–Ω—ã —É—Ç–æ—á–Ω–µ–Ω–∏—è –∏–ª–∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äì –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å!