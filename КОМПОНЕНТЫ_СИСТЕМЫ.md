# üß© AgriSwarm: –ß—Ç–æ –í–Ω—É—Ç—Ä–∏ –°–∏—Å—Ç–µ–º—ã

*–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ 35 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ "–ú–æ–¥—É–ª—å–Ω–æ–≥–æ –ú–æ–Ω–æ–ª–∏—Ç–∞ —Å –≠–ª–µ–º–µ–Ω—Ç–∞–º–∏ –ú–∏–∫—Ä–æ—è–¥—Ä–∞"*

## üìä –ß–µ—Å—Ç–Ω—ã–π –û–±–∑–æ—Ä –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **35 —Ñ–∞–π–ª–æ–≤ .cpp/.h**, –º–Ω–æ–≥–∏–µ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω—ã **–¥–ª—è –±–æ—Ä—å–±—ã —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏**, –∞ –Ω–µ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:

### üîç –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –ü–æ –ù–∞–∑–Ω–∞—á–µ–Ω–∏—é

| –ì—Ä—É–ø–ø–∞ | –ö–æ–ª-–≤–æ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ß–µ—Å—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ |
|--------|---------|-----------|---------------|
| **‚ö° –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª** | 8 | –¢–æ —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –Ω—É–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é | CommandExecutor, PinManager, NetworkManager, RuleEngine |
| **üö® –ë–æ—Ä—å–±–∞ —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏** | 8 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ | 17% –≤—Å–µ–≥–æ –∫–æ–¥–∞ |  
| **üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** | 6 | –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ | –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã |
| **üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | 4 | –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ | –ü—Ä–æ—Å—Ç—ã–µ –æ–±—ë—Ä—Ç–∫–∏, –Ω–µ –≤–æ–ª—à–µ–±—Å—Ç–≤–æ |
| **üîß –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ** | 5 | –£—Ç–∏–ª–∏—Ç—ã –∏ —Ö–µ–ª–ø–µ—Ä—ã | –ù–æ—Ä–º–∞–ª—å–Ω–æ |

```mermaid
graph TD
    subgraph "‚ö° –û–°–ù–û–í–ù–û–ï (–ß—Ç–æ –ù—É–∂–Ω–æ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é)"
        CMD[CommandExecutor - 6286 —Å—Ç—Ä–æ–∫–∏<br/>CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å<br/>‚ö†Ô∏è –ë–æ–ª—å—à–æ–π, —Å–ª–æ–∂–Ω—ã–π]
        PIN[PinManager - 1635 —Å—Ç—Ä–æ–∫<br/>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GPIO<br/>‚ö†Ô∏è –ú–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è DHT]
        NET[NetworkManager - 948 —Å—Ç—Ä–æ–∫<br/>Mesh —Å–µ—Ç—å<br/>‚ö†Ô∏è –ü–æ–ª–æ–Ω fallback'–æ–≤]
        RULE[RuleEngine - 518 —Å—Ç—Ä–æ–∫<br/>IF-THEN –ª–æ–≥–∏–∫–∞<br/>‚úÖ –ü—Ä–æ—Å—Ç–æ–π, —Ä–∞–±–æ—Ç–∞–µ—Ç]
    end
    
    subgraph "üö® –ü–†–û–ë–õ–ï–ú–ù–´–ï –ó–û–ù–´ (17% –∫–æ–¥–∞)"
        STATS[MeshStatisticsManager - 1052 —Å—Ç—Ä–æ–∫–∏<br/>‚ùì –ó–∞—á–µ–º —Å—Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏?]
        CONN_LOSS[ConnectionLossDetector - 690 —Å—Ç—Ä–æ–∫<br/>‚ö†Ô∏è –¶–µ–ª—ã–π –º–æ–¥—É–ª—å –¥–ª—è —Å–±–æ–µ–≤]
        RELIABILITY[MeshReliabilityManager - 642 —Å—Ç—Ä–æ–∫<br/>‚ö†Ô∏è –ï—â—ë –æ–¥–∏–Ω "–∞–Ω—Ç–∏—Å–±–æ–π–Ω—ã–π"]
        SENSOR_CONN[SensorConnectionMonitor - 828 —Å—Ç—Ä–æ–∫<br/>‚ö†Ô∏è –°–ª–µ–¥–∏—Ç –∑–∞ "—É–º–∏—Ä–∞—é—â–∏–º–∏" –¥–∞—Ç—á–∏–∫–∞–º–∏]
        PING[PingManager - 762 —Å—Ç—Ä–æ–∫–∏<br/>‚ö†Ô∏è –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏]
    end
    
    subgraph "üîß –û–°–¢–ê–õ–¨–ù–û–ï"
        OTHERS[25 –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤<br/>–û—Ç 61 –¥–æ 886 —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥—ã–π<br/>–ö–æ–Ω—Ñ–∏–≥, –ª–æ–≥–∏, —É—Ç–∏–ª–∏—Ç—ã]
    end
    
    CMD --> PIN
    PIN --> NET  
    NET --> RULE
    STATS --> NET
    CONN_LOSS --> NET
    RELIABILITY --> NET
    
    style CMD fill:#e3f2fd
    style STATS fill:#ffebee
    style CONN_LOSS fill:#ffebee  
    style RELIABILITY fill:#ffebee
```

---

## üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### üéÆ CommandExecutor (6324 —Å—Ç—Ä–æ–∫–∏) - "–ú–æ–Ω—Å—Ç—Ä"
**–§–∞–π–ª—ã:** `CommandExecutor.h`, `CommandExecutor.cpp`

**–ß–µ—Å—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞:** **–°–ª–∏—à–∫–æ–º —Ä–∞–∑–¥—É—Ç—ã–π** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. 6324 —Å—Ç—Ä–æ–∫–∏ –¥–ª—è CLI - —ç—Ç–æ –º–Ω–æ–≥–æ!

**–ß—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ **72 –∫–æ–º–∞–Ω–¥—ã** - –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–Ω–æ–≥–æ
- ‚úÖ **–ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥** ‚Üë/‚Üì - —É–¥–æ–±–Ω–æ
- ‚ö†Ô∏è **–ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ** - —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ
- ‚ö†Ô∏è **–¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥** - –∏–Ω–æ–≥–¥–∞ –ª–æ–º–∞–µ—Ç—Å—è
- ‚ùå **–ü–æ–º–æ—â—å** - –µ—Å—Ç—å, –Ω–æ –∑–∞–ø—É—Ç–∞–Ω–Ω–∞—è

**–ü—Ä–æ–±–ª–µ–º—ã:**
- **70% –∫–æ–¥–∞** = –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ú–µ–¥–ª–µ–Ω–Ω—ã–π –æ—Ç–∫–ª–∏–∫** (50-200–º—Å –Ω–∞ –∫–æ–º–∞–Ω–¥—É)
- **–°–ª–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å** –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- **–ú–Ω–æ–≥–æ legacy –∫–æ–¥–∞** - –±–æ—è–∑–Ω—å —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞—Ç—å

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–º–∞–Ω–¥ (—Ä–µ–∞–ª—å–Ω–∞—è –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å):**
```cpp
"system"     // 12 –∫–æ–º–∞–Ω–¥: ‚úÖ –ù—É–∂–Ω—ã–µ (help, status, reboot)
"pin"        // 15 –∫–æ–º–∞–Ω–¥: ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è —Ñ–∏—á–∞ 
"network"    // 18 –∫–æ–º–∞–Ω–¥: ‚ö†Ô∏è –ü–æ–ª–æ–≤–∏–Ω–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º
"automation" // 8 –∫–æ–º–∞–Ω–¥: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ
"info"       // 7 –∫–æ–º–∞–Ω–¥: ‚ö†Ô∏è –í –æ—Å–Ω–æ–≤–Ω–æ–º –¥–ª—è –¥–µ–±–∞–≥–∞
"logging"    // 7 –∫–æ–º–∞–Ω–¥: ‚ùì –ó–∞—á–µ–º —Å—Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–≥–æ–≤?
"task"       // 5 –∫–æ–º–∞–Ω–¥: ‚ö†Ô∏è –ë–∞–∑–æ–≤—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫  
"help"       // 4 –∫–æ–º–∞–Ω–¥—ã: ‚ö†Ô∏è –ó–∞–ø—É—Ç–∞–Ω–Ω—ã–µ
```

### üßô‚Äç‚ôÇÔ∏è InteractiveHelper (886 —Å—Ç—Ä–æ–∫) - "–°–ø–∞—Å–∏—Ç–µ–ª—å –ù–æ–≤–∏—á–∫–æ–≤"
**–§–∞–π–ª—ã:** `InteractiveHelper.h`, `InteractiveHelper.cpp`

**–ß–µ—Å—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞:** **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∂–∏–∑–Ω—å** –Ω–æ–≤–∏—á–∫–∞–º. –†–µ–∞–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç!

**–ú–∞—Å—Ç–µ—Ä–∞ (—á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç):**
- ‚úÖ `wizard first_run` - **–û—Ç–ª–∏—á–Ω–æ** –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- ‚úÖ `wizard sensor_setup` - **–£–ø—Ä–æ—â–∞–µ—Ç** –Ω–∞—Å—Ç—Ä–æ–π–∫—É –¥–∞—Ç—á–∏–∫–æ–≤
- ‚ö†Ô∏è `wizard automation_setup` - –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ **—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞**
- ‚ùå `network_wizard` - **–ü–æ—á—Ç–∏ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç** —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏ —Å–µ—Ç–∏

**–•–æ—Ä–æ—à–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
```cpp
// –ü–æ–Ω—è—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
"üéØ –í–´–ë–û–† –¢–ò–ü–ê –£–°–¢–†–û–ô–°–¢–í–ê:"
"üå°Ô∏è –î–ê–¢–ß–ò–ö–ò:"
"  1. DHT11 (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ + –≤–ª–∞–∂–Ω–æ—Å—Ç—å, —Ç–æ—á–Ω–æ—Å—Ç—å ¬±2¬∞C)"
"  2. DHT22 (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ + –≤–ª–∞–∂–Ω–æ—Å—Ç—å, —Ç–æ—á–Ω–æ—Å—Ç—å ¬±0.5¬∞C)"
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- **–ù–µ –æ—Ç–º–µ–Ω—è–µ—Ç** –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏  
- **–ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ - **–ø–∏—à–∏ –∫–æ–º–∞–Ω–¥—ã —Ä—É–∫–∞–º–∏**

---

## ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### üìù RuleEngine (518 —Å—Ç—Ä–æ–∫) - "–ü—Ä–æ—Å—Ç–æ–π, –ù–æ –†–∞–±–æ—Ç–∞–µ—Ç"
**–§–∞–π–ª—ã:** `RuleEngine.h`, `RuleEngine.cpp`

**–ß–µ—Å—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞:** **–°–∞–º—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π** –∏–∑ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, –ª–æ–≥–∏–∫–∞ –ø—Ä–æ—Å—Ç–∞—è.

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ:**
```cpp
CONDITION_GREATER_THAN    // > –†–∞–±–æ—Ç–∞–µ—Ç
CONDITION_LESS_THAN       // < –†–∞–±–æ—Ç–∞–µ—Ç  
CONDITION_EQUALS          // == –†–∞–±–æ—Ç–∞–µ—Ç (–¥–ª—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö)
CONDITION_NOT_EQUALS      // != –†–∞–±–æ—Ç–∞–µ—Ç
```

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —É—Å–ª–æ–≤–∏—è:**
```cpp  
CONDITION_BETWEEN         // –†–µ–¥–∫–æ –Ω—É–∂–Ω–æ, —Ä–∞–±–æ—Ç–∞–µ—Ç
CONDITION_CHANGED         // ‚ö†Ô∏è –ú–æ–∂–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç —à—É–º–æ–≤ –¥–∞—Ç—á–∏–∫–æ–≤
```

**–î–µ–π—Å—Ç–≤–∏—è (—Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å):**
```cpp
ACTION_SET_PIN_STATE      // ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è —Ñ–∏—á–∞, —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ
ACTION_LOG_MESSAGE        // ‚úÖ –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –¥–µ–±–∞–≥–∞
ACTION_SEND_MESSAGE       // ‚ö†Ô∏è –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö —Å–±–æ—è—Ö —Ç–µ—Ä—è–µ—Ç—Å—è
ACTION_TRIGGER_TASK       // ‚ö†Ô∏è –ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–µ –∑–∞–≤–∏—Å
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (—á–µ—Å—Ç–Ω–æ):**
- **–ù–ï–¢** —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ (AND, OR, NOT)
- **–ù–ï–¢** –∑–∞–≤–∏—Å–∏–º—ã—Ö –ø—Ä–∞–≤–∏–ª  
- **–ù–ï–¢** –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤
- **–ù–ï–¢** –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π (–ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏ –∏ —Ç.–ø.)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª–∞:**
```cpp
struct AutomationRule {
    String id;                    // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
    String name;                  // –ß–∏—Ç–∞–µ–º–æ–µ –∏–º—è
    String description;           // –û–ø–∏—Å–∞–Ω–∏–µ
    RuleCondition condition;      // –£—Å–ª–æ–≤–∏–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
    RuleAction action;           // –î–µ–π—Å—Ç–≤–∏–µ
    bool enabled;                // –í–∫–ª—é—á–µ–Ω–æ/–≤—ã–∫–ª—é—á–µ–Ω–æ
    unsigned long lastTriggered; // –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
    unsigned long cooldownPeriod;// –ö—É–ª–¥–∞—É–Ω –º–µ–∂–¥—É —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è–º–∏
    uint32_t triggerCount;       // –°—á–µ—Ç—á–∏–∫ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
};
```

### ‚è∞ TaskScheduler (192 —Å—Ç—Ä–æ–∫–∏)
**–§–∞–π–ª—ã:** `Scheduler.h`, `Scheduler.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏** (–∫–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥)
- **–û–¥–Ω–æ–∫—Ä–∞—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏** (–≤—ã–ø–æ–ª–Ω–∏—Ç—å —á–µ—Ä–µ–∑ N —Å–µ–∫—É–Ω–¥)
- **–í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ** –∑–∞–¥–∞—á
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**

---

## üì° –û–±–º–µ–Ω –î–∞–Ω–Ω—ã–º–∏

### üìä SensorPublisher (860 —Å—Ç—Ä–æ–∫)
**–§–∞–π–ª—ã:** `SensorPublisher.h`, `SensorPublisher.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—É–±–ª–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤ –≤ mesh-—Å–µ—Ç–∏.

**–§—É–Ω–∫—Ü–∏–∏:**
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤**
- **–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è** –¥–∞–Ω–Ω—ã—Ö
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ø–∏–∫–∞–º–∏**

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```cpp
// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–∞—Ç—á–∏–∫–∞
sensorPublisher.registerLocalSensor("temp1", "greenhouse/temperature", "¬∞C");

// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–π –¥–∞—Ç—á–∏–∫
sensorPublisher.subscribeToSensor(nodeId, "soil_moisture", "garden/soil");
```

### ‚ö° ActuatorPublisher (604 —Å—Ç—Ä–æ–∫–∏)
**–§–∞–π–ª—ã:** `ActuatorPublisher.h`, `ActuatorPublisher.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç—É–∞—Ç–æ—Ä–∞–º–∏ —á–µ—Ä–µ–∑ mesh-—Å–µ—Ç—å.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∞–∫—Ç—É–∞—Ç–æ—Ä–æ–≤**
- **–£–¥–∞–ª—ë–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –∞–∫—Ç—É–∞—Ç–æ—Ä–∞–º–∏ –Ω–∞ –¥—Ä—É–≥–∏—Ö —É–∑–ª–∞—Ö
- **–£—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞** (READONLY, BASIC, ADVANCED, ADMIN, SUPER)
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** –∫–æ–º–∞–Ω–¥

---

## ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

### üîå PinManager (1708 —Å—Ç—Ä–æ–∫) - "–°–µ—Ä–¥—Ü–µ –°–∏—Å—Ç–µ–º—ã"
**–§–∞–π–ª—ã:** `PinManager.h`, `PinManager.cpp`

**–ß–µ—Å—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞:** **–°–∞–º—ã–π –≤–∞–∂–Ω—ã–π** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –Ω–æ **–ø–æ–ª–æ–Ω –∫–æ—Å—Ç—ã–ª–µ–π** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞–ø—Ä–∏–∑–Ω—ã–º–∏ –¥–∞—Ç—á–∏–∫–∞–º–∏.

**–ß—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è (—Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å):**
```cpp
PIN_TYPE_DHT22 = 2      // ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –∫–∞–ø—Ä–∏–∑–Ω—ã–π
PIN_TYPE_DHT11 = 1      // ‚ö†Ô∏è –ï—â—ë –±–æ–ª–µ–µ –∫–∞–ø—Ä–∏–∑–Ω—ã–π
PIN_TYPE_RELAY = 3      // ‚úÖ –ù–∞–¥—ë–∂–Ω–æ (–ø—Ä–∏ —Ö–æ—Ä–æ—à–µ–º –ø–∏—Ç–∞–Ω–∏–∏)
PIN_TYPE_DIGITAL_OUT = 4 // ‚úÖ –û—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
PIN_TYPE_DIGITAL_IN = 5  // ‚úÖ –° –∞–Ω—Ç–∏–¥—Ä–µ–±–µ–∑–≥–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç
PIN_TYPE_ANALOG_IN = 6   // ‚ö†Ô∏è –®—É–º–Ω—ã–π, –Ω–æ —Å EMA –Ω–æ—Ä–º
PIN_TYPE_DHT11_HUM = 7   // ‚ö†Ô∏è –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–∏–Ω DHT11
PIN_TYPE_DHT22_HUM = 8   // ‚ö†Ô∏è –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–∏–Ω DHT22
```

**–ü—Ä–æ–±–ª–µ–º—ã —Å DHT (–ø–æ–ª–æ–≤–∏–Ω–∞ –∫–æ–¥–∞!):**
- **Backoff —Å–∏—Å—Ç–µ–º–∞:** –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª —Ä–∞—Å—Ç—ë—Ç –¥–æ 30 —Å–µ–∫
- **"–ó–∞–≤–∏—Å–∞–Ω–∏–µ":** –ú–æ–≥—É—Ç –º–æ–ª—á–∞—Ç—å –º–∏–Ω—É—Ç–∞–º–∏
- **NaN –∑–Ω–∞—á–µ–Ω–∏—è:** –†–µ–≥—É–ª—è—Ä–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –º—É—Å–æ—Ä
- **–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –ø–∏—Ç–∞–Ω–∏—é:** -0.2–í = "–¥–∞—Ç—á–∏–∫ —É–º–µ—Ä"

**–ö–æ—Å—Ç—ã–ª–∏ –≤ –∫–æ–¥–µ:**
```cpp  
// DHT backoff - –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
_dhtBackoffMs[config.name] = min(_dhtBackoffMs[config.name] * 2, 30000UL);

// Power pin - –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–∞—Ç—á–∏–∫–∏ "–∂—Ä—É—Ç" —ç–Ω–µ—Ä–≥–∏—é
if (config.powerPin != 255) {
    digitalWrite(config.powerPin, HIGH);
    delay(config.powerStabilizeMs); // –ñ–¥—ë–º —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏
}
```

### üìä SensorMonitor (519 —Å—Ç—Ä–æ–∫)
**–§–∞–π–ª—ã:** `SensorMonitor.h`, `SensorMonitor.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤ –∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º.

**–§—É–Ω–∫—Ü–∏–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏** —Å –¥–∞—Ç—á–∏–∫–∞–º–∏
- **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∑–∞–≤–∏—Å—à–∏—Ö** –¥–∞—Ç—á–∏–∫–æ–≤
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ø—ã—Ç–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è**

---

## üåê Mesh-–°–µ—Ç—å (–ü—Ä–æ–±–ª–µ–º–Ω–∞—è –ó–æ–Ω–∞)

### üåê NetworkManager (1012 —Å—Ç—Ä–æ–∫) - "–ü–æ–ª–æ–Ω Fallback'–æ–≤"
**–§–∞–π–ª—ã:** `NetworkManager.h`, `NetworkManager.cpp`

**–ß–µ—Å—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞:** **–û—Å–Ω–æ–≤–∞ —Å–∏—Å—Ç–µ–º—ã**, –Ω–æ **–Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è**. –ü–æ–ª–æ–Ω –∫–æ–¥–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ = –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º):**
```cpp
#define MESH_HEARTBEAT_INTERVAL 5000   // –ö–∞–∂–¥—ã–µ 5 —Å–µ–∫ - –°–õ–ò–®–ö–û–ú —á–∞—Å—Ç–æ
#define AGRI_NODE_TIMEOUT 8000         // 8 —Å–µ–∫ —Ç–∞–π–º–∞—É—Ç - –±—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è
#define MESH_EXTRA_UPDATES 1           // –¢—Ä–æ–π–Ω—ã–µ –≤—ã–∑–æ–≤—ã update()
```

**–¢—Ä–æ–π–Ω—ã–µ –≤—ã–∑–æ–≤—ã mesh.update() (–ø—Ä–∏–∑–Ω–∞–∫ –ø—Ä–æ–±–ª–µ–º):**
```cpp
// NetworkManager.cpp - –±–æ—Ä—å–±–∞ —Å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é
_mesh.update();  // –ü–µ—Ä–≤—ã–π —Ä–∞–∑
_mesh.update();  // –í—Ç–æ—Ä–æ–π —Ä–∞–∑  
_mesh.update();  // –¢—Ä–µ—Ç–∏–π —Ä–∞–∑ "–¥–ª—è –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏"
```

**–°–æ–±—ã—Ç–∏—è (—á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ):**
```cpp
onNewConnection    // ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
onDroppedConnection // üî• –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ü–û–°–¢–û–Ø–ù–ù–û
onReceive          // ‚ö†Ô∏è –ú–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
onChangedConnections // üî• –û—á–µ–Ω—å —á–∞—Å—Ç–æ –∏–∑-–∑–∞ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- **painlessMesh –±–∏–±–ª–∏–æ—Ç–µ–∫–∞** —Å—ã—Ä–∞—è
- **–ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** –∫–∞–∂–¥—ã–µ 10-30 —Å–µ–∫—É–Ω–¥
- **–ü–æ—Ç–µ—Ä—è —Å–æ–æ–±—â–µ–Ω–∏–π** –ø—Ä–∏ —Å–±–æ—è—Ö
- **–£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏** –≤ painlessMesh
- **–ù–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è** —Ç—Ä–∞—Ñ–∏–∫–∞

### üìä MeshStatisticsManager (1084 —Å—Ç—Ä–æ–∫–∏)
**–§–∞–π–ª—ã:** `MeshStatisticsManager.h`, `MeshStatisticsManager.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ mesh-—Å–µ—Ç–∏.

**–°–æ–±–∏—Ä–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- **–í—Ä–µ–º—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** —É–∑–ª–æ–≤
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π/–æ—Ç–∫–ª—é—á–µ–Ω–∏–π**
- **RSSI –∑–Ω–∞—á–µ–Ω–∏—è** (–∫–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–∞)
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**
- **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞** (ping/pong)

### üì° PingManager (762 —Å—Ç—Ä–æ–∫–∏)
**–§–∞–π–ª—ã:** `PingManager.h`, `PingManager.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π ping** –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
- **–ò–∑–º–µ—Ä–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–µ–∫** (RTT)
- **–î–µ—Ç–µ–∫—Ü–∏—è –ø–æ—Ç–µ—Ä—å –ø–∞–∫–µ—Ç–æ–≤**
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–≤—è–∑–∏**

---

## üîß –°–∏—Å—Ç–µ–º–Ω—ã–µ –°–ª—É–∂–±—ã

### ‚öôÔ∏è ConfigManager (655 —Å—Ç—Ä–æ–∫)
**–§–∞–π–ª—ã:** `ConfigManager.h`, `ConfigManager.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ LittleFS.

**–£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —Ñ–∞–π–ª—ã:**
```cpp
#define CONFIG_FILE "/config.json"
#define CONFIG_BACKUP_FILE "/config_backup.json"
#define WIFI_CONFIG_FILE "/wifi_config.json"
#define NODE_NAME_FILE "/node_name.json"
#define RULES_FILE "/rules.json"
#define TASKS_FILE "/tasks.json"
#define PIN_CONFIG_DIR "/pins"
```

**–§—É–Ω–∫—Ü–∏–∏:**
- **–ó–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**
- **CRC32 –ø—Ä–æ–≤–µ—Ä–∫–∞** —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** –∏–∑ –±—ç–∫–∞–ø–æ–≤

### üìù Logger (61 —Å—Ç—Ä–æ–∫–∞)
**–§–∞–π–ª—ã:** `Logger.h`, `Logger.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å —É—Ä–æ–≤–Ω—è–º–∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏.

**–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
```cpp
#define LOG_LEVEL_NONE 0    // –ë–µ–∑ –ª–æ–≥–æ–≤
#define LOG_LEVEL_ERROR 1   // –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
#define LOG_LEVEL_INFO 2    // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
#define LOG_LEVEL_WARN 3    // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
#define LOG_LEVEL_DEBUG 4   // –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```

### üõ°Ô∏è SystemMonitor (274 —Å—Ç—Ä–æ–∫–∏)
**–§–∞–π–ª—ã:** `SystemMonitor.h`, `SystemMonitor.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∞–Ω–∏–π.

**–§—É–Ω–∫—Ü–∏–∏:**
- **Watchdog timer** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å –ø—Ä–∏ –∑–∞–≤–∏—Å–∞–Ω–∏–∏)
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏** (–∫–æ–Ω—Ç—Ä–æ–ª—å —É—Ç–µ—á–µ–∫)
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã**
- **–î–µ—Ç–µ–∫—Ü–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π**

### üîí SafeMemory (211 —Å—Ç—Ä–æ–∫)
**–§–∞–π–ª—ã:** `SafeMemory.h`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç—ã —Å –ø–∞–º—è—Ç—å—é.

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- **–ì—Ä–∞–Ω–∏—Ü—ã –±—É—Ñ–µ—Ä–æ–≤** (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–π)
- **–£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏** (–∫–æ–Ω—Ç—Ä–æ–ª—å –≤—ã–¥–µ–ª–µ–Ω–∏—è/–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è)
- **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª–µ–π**
- **Stack overflow –∑–∞—â–∏—Ç–∞**

### üßÆ SafeMath (89 —Å—Ç—Ä–æ–∫)
**–§–∞–π–ª—ã:** `SafeMath.h`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

**–ó–∞—â–∏—Ç–∞ –æ—Ç:**
```cpp
// –ü—Ä–∏–º–µ—Ä—ã –∏–∑ –∫–æ–¥–∞
bool safeDivide(float a, float b, float& result) {
    if (abs(b) < 1e-10) {  // –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å
        return false;
    }
    result = a / b;
    return true;
}

bool checkFloatValid(float value) {
    return !isnan(value) && isfinite(value);  // –ü—Ä–æ–≤–µ—Ä–∫–∞ NaN –∏ Infinity
}
```

---

## üèÜ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### üß† SelfReflectionSystem (414 —Å—Ç—Ä–æ–∫)
**–§–∞–π–ª—ã:** `SelfReflectionSystem.h`, `SelfReflectionSystem.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–∞–º–æ–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã.

**–§—É–Ω–∫—Ü–∏–∏:**
- **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–î–µ—Ç–µ–∫—Ü–∏—è —É–∑–∫–∏—Ö –º–µ—Å—Ç** –≤ —Å–∏—Å—Ç–µ–º–µ
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

### üîó ConnectionLossDetector (690 —Å—Ç—Ä–æ–∫)
**–§–∞–π–ª—ã:** `ConnectionLossDetector.h`, `ConnectionLossDetector.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- **–î–µ—Ç–µ–∫—Ü–∏—è –æ–±—Ä—ã–≤–∞** —Å–≤—è–∑–∏ —Å —É–∑–ª–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã** (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏** —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### üé® MeshOptimizer (264 —Å—Ç—Ä–æ–∫–∏)
**–§–∞–π–ª—ã:** `MeshOptimizer.h`, `MeshOptimizer.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ mesh-—Å–µ—Ç–∏.

**–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:**
```cpp
// –ò–∑ –∫–æ–¥–∞ MeshOptimizer
"speed"     // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏
"stability" // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
"balance"   // –ë–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏  
"lowpower"  // –≠–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏–µ
"auto"      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### üèóÔ∏è –†–∞–∑–º–µ—Ä—ã –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ø–æ —Å—Ç—Ä–æ–∫–∞–º –∫–æ–¥–∞)

| –†–∞–Ω–≥ | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç—Ä–æ–∫–∏ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----------|--------|------------|
| 1 | CommandExecutor | 6286 | –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥ |
| 2 | PinManager | 1635 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GPIO |
| 3 | MeshStatisticsManager | 1052 | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ç–∏ |
| 4 | NetworkManager | 948 | Mesh-—Å–µ—Ç—å |
| 5 | InteractiveHelper | 886 | –ú–∞—Å—Ç–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| 6 | SensorPublisher | 860 | –ü—É–±–ª–∏–∫–∞—Ü–∏—è –¥–∞—Ç—á–∏–∫–æ–≤ |
| 7 | SensorConnectionMonitor | 828 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∞—Ç—á–∏–∫–æ–≤ |
| 8 | PingManager | 762 | –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–≤—è–∑–∏ |
| 9 | AlgorithmScheduler | 759 | –ê–ª–≥–æ—Ä–∏—Ç–º—ã |
| 10 | ConnectionLossDetector | 690 | –î–µ—Ç–µ–∫—Ü–∏—è –æ–±—Ä—ã–≤–æ–≤ |

### üéØ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –í–∞–∂–Ω—ã–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **ConfigManager** - –ë–µ–∑ –Ω–µ–≥–æ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è
2. **SystemMonitor** - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏—è  
3. **NetworkManager** - –û—Å–Ω–æ–≤–∞ mesh-—Å–µ—Ç–∏
4. **PinManager** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º
5. **Logger** - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### ‚öôÔ∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

*–ò–∑ Constants.h, —Å—Ç—Ä–æ–∫–∏ 110-112:*
```cpp
#define ENABLE_MESH_RELIABILITY_MANAGER 0     // –û—Ç–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
#define ENABLE_MESH_PERFORMANCE_MONITOR 0     // –û—Ç–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é  
#define ENABLE_ADVANCED_MESH_FEATURES 0       // –û—Ç–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

---

## üîó –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### üìà –ì—Ä–∞—Ñ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```mermaid
graph TB
    MAIN[main.cpp<br/>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è] --> CONFIG[ConfigManager]
    MAIN --> MONITOR[SystemMonitor]
    MAIN --> PIN_MGR[PinManager]
    MAIN --> NET_MGR[NetworkManager]
    MAIN --> RULES[RuleEngine]
    MAIN --> CMD[CommandExecutor]
    
    CONFIG --> LOGGER[Logger]
    MONITOR --> LOGGER
    PIN_MGR --> CONFIG
    PIN_MGR --> SENSOR_PUB[SensorPublisher]
    PIN_MGR --> ACTUATOR_PUB[ActuatorPublisher]
    NET_MGR --> CONFIG
    NET_MGR --> NODE_MGR[NodeManager]
    NET_MGR --> MESH_STATS[MeshStatisticsManager]
    RULES --> CONFIG
    RULES --> PIN_MGR
    CMD --> PIN_MGR
    CMD --> NET_MGR
    CMD --> RULES
    
    SENSOR_PUB --> NET_MGR
    ACTUATOR_PUB --> NET_MGR
    NODE_MGR --> CONFIG
    MESH_STATS --> CONFIG
    
    style MAIN fill:#e1f5fe
    style CONFIG fill:#fff3e0
    style MONITOR fill:#ffebee
```

---

## üéØ –ß–µ—Å—Ç–Ω–æ–µ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### üìä –†–µ–∞–ª—å–Ω–∞—è –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ö–æ–¥–∞

| –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | % –æ—Ç –æ–±—â–µ–≥–æ | –û—Ü–µ–Ω–∫–∞ |
|------------|------------|-------------|---------|
| **üö® –ë–æ—Ä—å–±–∞ —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏** | ~10,000 | **40%** | –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ |
| **‚ö° –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª** | ~8,000 | **30%** | –ù–æ—Ä–º–∞ |
| **üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞/–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** | ~5,000 | **20%** | –ò–∑–ª–∏—à–Ω–µ |
| **üîß –£—Ç–∏–ª–∏—Ç—ã** | ~2,700 | **10%** | –ù–æ—Ä–º–∞–ª—å–Ω–æ |

### üîç –ß—Ç–æ –ì–æ–≤–æ—Ä–∏—Ç –û –ö–∞—á–µ—Å—Ç–≤–µ

**‚ùå –ü–ª–æ—Ö–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:**
- **17% –∫–æ–¥–∞** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏ —Å–±–æ–µ–≤
- **5 —Å–æ—Å—Ç–æ—è–Ω–∏–π** —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ ON/OFF
- **–¢—Ä–æ–π–Ω—ã–µ –≤—ã–∑–æ–≤—ã** —Ñ—É–Ω–∫—Ü–∏–π "–¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏"  
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–æ–Ω–∏—Ç–æ—Ä—ã** –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- **–°–∏—Å—Ç–µ–º—ã backoff** –≤–µ–∑–¥–µ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ

**‚úÖ –•–æ—Ä–æ—à–∏–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∞—Ç—å
- **–û–±—à–∏—Ä–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** - –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π** - watchdog –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑ –ø–µ—Ä–µ–ø—Ä–æ—à–∏–≤–∫–∏

### ü§î –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –û—Ü–µ–Ω–∫–∞

**AgriSwarm –ù–ï "—Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞"** –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º –ø–æ–Ω–∏–º–∞–Ω–∏–∏.

–≠—Ç–æ **—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞** –≥–¥–µ:
- **30%** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- **40%** —Å—É—â–µ—Å—Ç–≤—É—é—Ç –¥–ª—è –±–æ—Ä—å–±—ã —Å –±–∞–≥–∞–º–∏ –∏ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é  
- **20%** –∏–∑–ª–∏—à–Ω–µ —Å–ª–æ–∂–Ω—ã–µ –¥–ª—è —Ä–µ—à–∞–µ–º—ã—Ö –∑–∞–¥–∞—á
- **10%** –ø–æ–ª–µ–∑–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã

### üéØ –î–ª—è –ö–æ–≥–æ –ü–æ–¥—Ö–æ–¥–∏—Ç

**‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç:**
- –ò–∑—É—á–µ–Ω–∏–µ IoT —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ mesh-—Å–µ—Ç–µ–π
- –ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
- –û—Å–Ω–æ–≤–∞ –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç–æ–∫

**‚ùå –ù–ï –ø–æ–¥—Ö–æ–¥–∏—Ç:**
- –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞
- –ü—Ä–æ–µ–∫—Ç—ã —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ–º —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ >95%

---

**üí° –ò—Ç–æ–≥:** AgriSwarm - —ç—Ç–æ **–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤**, –Ω–æ –Ω–µ –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º IoT-—Å–∏—Å—Ç–µ–º –∏ —Å–ø–æ—Å–æ–±–æ–≤ –∏—Ö —Ä–µ—à–µ–Ω–∏—è.
