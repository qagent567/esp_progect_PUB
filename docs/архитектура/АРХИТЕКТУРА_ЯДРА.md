<div align="center">

# üèóÔ∏è AgriSwarm: –†–µ–∞–ª—å–Ω–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –°–∏—Å—Ç–µ–º—ã

*–ß–µ—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑—É—á–µ–Ω–∏—è 32,700+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞*

[![–†–∞–∑–¥–µ–ª](https://img.shields.io/badge/—Ä–∞–∑–¥–µ–ª-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-blue.svg)](../../README.md)
[![–£—Ä–æ–≤–µ–Ω—å](https://img.shields.io/badge/—É—Ä–æ–≤–µ–Ω—å-–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π-red.svg)](../../README.md)

**üìÇ –ù–∞–≤–∏–≥–∞—Ü–∏—è:** [üè† –ì–ª–∞–≤–Ω–∞—è](../../README.md) ‚Ä¢ [üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](../README.md) ‚Ä¢ [üìê –¢–∏–ø –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã](–¢–ò–ü_–ê–†–•–ò–¢–ï–ö–¢–£–†–´.md) ‚Ä¢ [üß≠ –ü–æ–ª–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è](../../ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ.md)

</div>

---

## üåü –í–≤–µ–¥–µ–Ω–∏–µ: –§–∏–ª–æ—Å–æ—Ñ–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —è–¥—Ä–∞ AgriSwarm

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–µ–±–µ –æ—Ä–∫–µ—Å—Ç—Ä –∏–∑ 43 –º—É–∑—ã–∫–∞–Ω—Ç–æ–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π –∏–≥—Ä–∞–µ—Ç —Å–≤–æ—é –ø–∞—Ä—Ç–∏—é, –Ω–æ –≤—Å–µ –≤–º–µ—Å—Ç–µ —Å–æ–∑–¥–∞—é—Ç –µ–¥–∏–Ω—É—é —Å–∏–º—Ñ–æ–Ω–∏—é. –ò–º–µ–Ω–Ω–æ —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —è–¥—Ä–∞ AgriSwarm - —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –Ω–∞–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∞ —Ç—â–∞—Ç–µ–ª—å–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∑–Ω–∞–µ—Ç —Å–≤–æ—é —Ä–æ–ª—å –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ —á–µ—Ä–µ–∑ —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.

**–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞?** –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è ESP32 - —ç—Ç–æ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏. –° –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –Ω–∞–º –Ω—É–∂–Ω–∞ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å, —á—Ç–æ–±—ã –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. –° –¥—Ä—É–≥–æ–π - –∂–µ—Å—Ç–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –ø–∞–º—è—Ç–∏ (–≤—Å–µ–≥–æ 520KB RAM) –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "—Ç—è–∂–µ–ª—ã–µ" –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ –º–∏—Ä–∞ –±–æ–ª—å—à–∏—Ö —Å–∏—Å—Ç–µ–º.

–†–µ—à–µ–Ω–∏–µ–º —Å—Ç–∞–ª–∞ **–≥–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ª—É—á—à–µ–µ –∏–∑ –¥–≤—É—Ö –º–∏—Ä–æ–≤: –ø—Ä–æ—Å—Ç–æ—Ç—É –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–Ω–æ–ª–∏—Ç–∞ —Å –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å—é –∏ —á–µ—Ç–∫–∏–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –º–∏–∫—Ä–æ—è–¥–µ—Ä–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –≠—Ç–æ –Ω–µ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å, –∞ –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–π –≤—ã–±–æ—Ä, –ø—Ä–æ–¥–∏–∫—Ç–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∞–ª—å–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ embedded —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã, –∑–∞–ª–æ–∂–µ–Ω–Ω—ã–µ –≤ –æ—Å–Ω–æ–≤—É:**

- **üéØ Manager Pattern** - –∫–∞–∂–¥–∞—è –æ–±–ª–∞—Å—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –º–µ–Ω–µ–¥–∂–µ—Ä–µ (ConfigManager, NetworkManager, PinManager). –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π –∏ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã.

- **üîÑ Singleton —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (SystemMonitor, Logger) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ —Å–∏–Ω–≥–ª—Ç–æ–Ω—ã –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞, –Ω–æ –º—ã –∏–∑–±–µ–≥–∞–µ–º –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —ç—Ç–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º.

- **üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ** - –æ—Ç SafeMemory –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —É—Ç–µ—á–µ–∫ –¥–æ Watchdog –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏–π. –°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å —É—á–µ—Ç–æ–º —Ç–æ–≥–æ, —á—Ç–æ –æ—à–∏–±–∫–∏ –Ω–µ–∏–∑–±–µ–∂–Ω—ã, –∏ –≤–∞–∂–Ω–æ –∏—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å.

- **üìä –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏–∑–Ω—É—Ç—Ä–∏** - 8 –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –º–æ–Ω–∏—Ç–æ—Ä—è—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã, —Å–æ–±–∏—Ä–∞—é—Ç –º–µ—Ç—Ä–∏–∫–∏ –∏ –ø–æ–º–æ–≥–∞—é—Ç –≤—ã—è–≤–ª—è—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∏ —Å—Ç–∞–Ω—É—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏.

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**

‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∞—Ç—å –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, —ç–∫–æ–Ω–æ–º—è –ø–∞–º—è—Ç—å  
‚úÖ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ** - —á–µ—Ç–∫–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å–∫–ª—é—á–∞–µ—Ç race conditions  
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –æ—Ç–ª–∞–¥–∫–∏** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ  
‚úÖ **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ –Ω–æ–≤—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞ –±–æ–ª–µ–µ 32,700 —Å—Ç—Ä–æ–∫ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞. –ó–¥–µ—Å—å –Ω–µ—Ç —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, —Ç–æ–ª—å–∫–æ —á–µ—Å—Ç–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ, –≤–∫–ª—é—á–∞—è –µ—ë —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.

---

## üìä –ß—Ç–æ –≠—Ç–æ –ù–∞ –°–∞–º–æ–º –î–µ–ª–µ

**AgriSwarm v0.3.7-bu** - —ç—Ç–æ **"–ú–æ–¥—É–ª—å–Ω—ã–π –ú–æ–Ω–æ–ª–∏—Ç —Å –≠–ª–µ–º–µ–Ω—Ç–∞–º–∏ –ú–∏–∫—Ä–æ—è–¥—Ä–∞"** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –≥–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è embedded —Å–∏—Å—Ç–µ–º.

**üèóÔ∏è –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è:** Manager Pattern Architecture —Å 43 –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è ESP32.

**üö® –í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:** –≠—Ç–æ –ù–ï —Å—Ç—Ä–æ–≥–∞—è –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∞ —Å–∫–æ—Ä–µ–µ **–Ω–∞–±–æ—Ä –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** —Å–æ —Å–≤–æ–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏.

### üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

| –¢–∏–ø –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã | –î–æ–ª—è | –ü—Ä–∏–∑–Ω–∞–∫–∏ –≤ –ö–æ–¥–µ | –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ | –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ |
|-----------------|------|------------------|--------------|-------------|
| **–ú–æ–Ω–æ–ª–∏—Ç** | 70% | –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, –µ–¥–∏–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å | –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –ø—Ä–æ—Å—Ç–∞—è –æ—Ç–ª–∞–¥–∫–∞ | –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –æ—Ç–∫–∞–∑–∞, —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| **–ú–∏–∫—Ä–æ—è–¥—Ä–æ** | 20% | Singleton –ø–∞—Ç—Ç–µ—Ä–Ω—ã, dependency injection | –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å, —á–µ—Ç–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã | –°–ª–æ–∂–Ω–æ—Å—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏, overhead |
| **–ì–∏–±—Ä–∏–¥** | 10% | –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, watchdogs | –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ—Å—Ç–æ—Ç–æ–π –∏ –≥–∏–±–∫–æ—Å—Ç—å—é | –ö–æ–º–ø—Ä–æ–º–∏—Å—Å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è |

### üèóÔ∏è –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ –¢–∏–ø–∞–º

#### **‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ú–µ–Ω–µ–¥–∂–µ—Ä—ã (8 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|-----------|----------------|------------|-------------|
| **ConfigManager** | –ó–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | 655 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è |
| **NetworkManager** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ mesh-—Å–µ—Ç—å—é –∏ WiFi | 948 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è |
| **PinManager** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GPIO –∏ –¥–∞—Ç—á–∏–∫–∞–º–∏ | 1635 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è |
| **RuleEngine** | –õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ IF-THEN | 518 | –í—ã—Å–æ–∫–∞—è |
| **TaskScheduler** | –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –ø–æ –≤—Ä–µ–º–µ–Ω–∏ | 192 | –°—Ä–µ–¥–Ω—è—è |
| **NodeManager** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞–º–∏ —Å–µ—Ç–∏ | 244 | –°—Ä–µ–¥–Ω—è—è |
| **MessageQueueManager** | –û—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ | 231 | –°—Ä–µ–¥–Ω—è—è |
| **AlgorithmScheduler** | –°–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏ ML | 759 | –ù–∏–∑–∫–∞—è |

#### **üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –°–∏—Å—Ç–µ–º—ã (8 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------------|------------|------------|
| **SystemMonitor** | Watchdog, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏ | 274 | –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∞–Ω–∏–π |
| **MeshReliabilityManager** | –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å mesh-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π | 642 | –ë–æ—Ä—å–±–∞ —Å–æ —Å–±–æ—è–º–∏ —Å–µ—Ç–∏ |
| **MeshPerformanceMonitor** | –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ | 244 | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∏ |
| **ConnectionLossDetector** | –î–µ—Ç–µ–∫—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π —É–∑–ª–æ–≤ | 690 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π |
| **MeshStatisticsManager** | –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–µ—Ç–∏ | 1052 | –ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ñ–∏–∫–∞ |
| **PingManager** | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–¥–µ—Ä–∂–µ–∫ | 762 | –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ —Å–≤—è–∑–∏ |
| **SensorConnectionMonitor** | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∞—Ç—á–∏–∫–æ–≤ | 828 | –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–±–æ–µ–≤ |

#### **üõ°Ô∏è –ó–∞—â–∏—Ç–Ω—ã–µ –ú–µ—Ö–∞–Ω–∏–∑–º—ã (4 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞)**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | –ó–∞—â–∏—Ç–∞ –æ—Ç |
|-----------|----------------|------------|-----------|
| **SafeMemory** | –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø–∞–º—è—Ç—å—é | 211 | –£—Ç–µ—á–µ–∫ –∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–π |
| **SafeMath** | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ | 89 | –î–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å |
| **SafeCommandParser** | –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞ | 85 | Buffer overflow |
| **SystemMonitor** | Watchdog —Ç–∞–π–º–µ—Ä | 274 | –ó–∞–≤–∏—Å–∞–Ω–∏–π —Å–∏—Å—Ç–µ–º—ã |

#### **üí¨ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞)**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª |
|-----------|----------------|------------|------------|
| **CommandExecutor** | CLI —Å 98 –∫–æ–º–∞–Ω–¥–∞–º–∏ | 6286 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π |
| **InteractiveHelper** | –ú–∞—Å—Ç–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | 886 | –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |
| **Logger** | –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | 61 | –û—Ç–ª–∞–¥–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ |

#### **üìä –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –°–∏—Å—Ç–µ–º—ã (12 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------------|------------|------------|
| **AutoConnectionManager** | –ê–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ | 88 | –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ç–∏ |
| **SensorPublisher** | –ü—É–±–ª–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤ | 860 | MQTT-like —Ç–æ–ø–∏–∫–∏ |
| **ActuatorPublisher** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç—É–∞—Ç–æ—Ä–∞–º–∏ | 604 | –ö–æ–º–∞–Ω–¥—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º |
| **HostManager** | –†–µ–∂–∏–º —Ö–æ—Å—Ç–∞ —Å–µ—Ç–∏ | 250 | –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ |
| **TrustedNodeManager** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ —É–∑–ª–∞–º–∏ | 503 | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ç–∏ |
| **NotificationSystem** | –°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | 484 | –ê–ª–µ—Ä—Ç—ã –∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è |
| **LogPauseManager** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—É–∑–∞–º–∏ –ª–æ–≥–æ–≤ | 133 | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞ |
| **Scheduler** | –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á | 192 | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é |
| **MessageRouter** | –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π | 146 | –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ |
| **MessageBuffer** | –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π | 101 | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–¥–∞—á–∏ |
| **PinCommandHelper** | –ü–æ–º–æ—â–Ω–∏–∫ –∫–æ–º–∞–Ω–¥ GPIO | 475 | –£–ø—Ä–æ—â–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| **SystemDiagnostics** | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã | 269 | –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ |

---

## üó∫Ô∏è –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: –ö–∞—Ä—Ç–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–°–ª–µ–¥—É—é—â–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ - —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å—Ö–µ–º–∞, –∞ **–∂–∏–≤–∞—è –∫–∞—Ä—Ç–∞ —Å–∏—Å—Ç–µ–º—ã**, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∞—è –∫–∞–∫ 43 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –ö–∞–∂–¥–∞—è —Å—Ç—Ä–µ–ª–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö, –∫–∞–∂–¥—ã–π –±–ª–æ–∫ - —ç—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π C++ –∫–ª–∞—Å—Å —Å –∏–∑–º–µ—Ä–∏–º—ã–º —Ä–∞–∑–º–µ—Ä–æ–º –∫–æ–¥–∞.

**–ö–∞–∫ —á–∏—Ç–∞—Ç—å —ç—Ç—É –¥–∏–∞–≥—Ä–∞–º–º—É:**

üé® **–¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
- üü¢ –ó–µ–ª–µ–Ω—ã–π (CLI) - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤—ã—Å–æ–∫–∞—è –≤–∞–∂–Ω–æ—Å—Ç—å –¥–ª—è UX
- üü° –ñ–µ–ª—Ç—ã–π (PinManager) - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∂–µ–ª–µ–∑–æ–º
- üîµ –°–∏–Ω–∏–π (NetworkManager) - –æ—Å–Ω–æ–≤–∞ mesh-—Å–µ—Ç–∏
- üî¥ –ö—Ä–∞—Å–Ω—ã–π (SystemMonitor) - –∑–∞—â–∏—Ç–∞ –æ—Ç –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–∏—Ö —Å–±–æ–µ–≤

üìä **–†–∞–∑–º–µ—Ä –±–ª–æ–∫–æ–≤** –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª–µ–Ω —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ - —á–µ–º –±–æ–ª—å—à–µ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞, —Ç–µ–º –∫—Ä—É–ø–Ω–µ–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ CommandExecutor (6286 —Å—Ç—Ä–æ–∫) - —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π, –ø–æ—Ç–æ–º—É —á—Ç–æ 70% –µ–≥–æ –∫–æ–¥–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

‚û°Ô∏è **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–µ–ª–æ–∫** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –í–∞–∂–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—Å–µ–≥–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—Ç –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∫ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º, –Ω–∏–∫–æ–≥–¥–∞ –Ω–∞–æ–±–æ—Ä–æ—Ç. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–º–µ–Ω—ã –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –ª–æ–≥–∏–∫–∏.

**–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**

- **–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ —É–∑–ª—ã** (ConfigManager, NetworkManager, PinManager) - —ç—Ç–æ "—Ö–∞–±—ã", —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- **–ó–∞—â–∏—Ç–Ω—ã–µ —Å–ª–æ–∏** (SafeMemory, SafeMath, SafeCommandParser) –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã** –æ–±—Ä–∞–∑—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä, –º–æ–Ω–∏—Ç–æ—Ä—è—â–∏–π –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```mermaid
graph TD
    subgraph "üéÆ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–ô –ò–ù–¢–ï–†–§–ï–ô–°"
        CLI["üí¨ CommandExecutor<br/>6286 —Å—Ç—Ä–æ–∫, 98 –∫–æ–º–∞–Ω–¥<br/>‚Ä¢ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è<br/>‚Ä¢ –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –∏—Å—Ç–æ—Ä–∏—è<br/>‚Ä¢ –ú–∞—Å—Ç–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"]
        WIZARD["üßô‚Äç‚ôÇÔ∏è InteractiveHelper<br/>886 —Å—Ç—Ä–æ–∫<br/>‚Ä¢ –ú–∞—Å—Ç–µ—Ä first_run<br/>‚Ä¢ –ú–∞—Å—Ç–µ—Ä sensor_setup<br/>‚Ä¢ –ú–∞—Å—Ç–µ—Ä automation_setup"]
        LOGGER["üìù Logger<br/>61 —Å—Ç—Ä–æ–∫–∞<br/>‚Ä¢ –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è<br/>‚Ä¢ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π<br/>‚Ä¢ –£—Ä–æ–≤–Ω–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏"]
    end

    subgraph "‚öôÔ∏è –û–°–ù–û–í–ù–´–ï –ú–ï–ù–ï–î–ñ–ï–†–´"
        CONFIG["üìÅ ConfigManager<br/>655 —Å—Ç—Ä–æ–∫<br/>‚Ä¢ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è<br/>‚Ä¢ LittleFS —Ñ–∞–π–ª—ã<br/>‚Ä¢ WiFi –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"]
        NETWORK["üåê NetworkManager<br/>948 —Å—Ç—Ä–æ–∫<br/>‚Ä¢ painlessMesh —Å–µ—Ç—å<br/>‚Ä¢ WiFi STA/AP —Ä–µ–∂–∏–º<br/>‚Ä¢ Message routing"]
        PINS["üîå PinManager<br/>1635 —Å—Ç—Ä–æ–∫<br/>‚Ä¢ GPIO —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ<br/>‚Ä¢ DHT22/DHT11 –¥–∞—Ç—á–∏–∫–∏<br/>‚Ä¢ –†–µ–ª–µ –∏ –∞–∫—Ç—É–∞—Ç–æ—Ä—ã"]
        RULES["‚ö° RuleEngine<br/>518 —Å—Ç—Ä–æ–∫<br/>‚Ä¢ IF-THEN –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è<br/>‚Ä¢ –ü—Ä–∞–≤–∏–ª–∞ —Å –∫—É–ª–¥–∞—É–Ω–∞–º–∏<br/>‚Ä¢ Callback –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è"]
        TASKS["üìÖ TaskScheduler<br/>192 —Å—Ç—Ä–æ–∫–∏<br/>‚Ä¢ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á<br/>‚Ä¢ –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã<br/>‚Ä¢ –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –∑–∞–¥–∞—á–∏"]
        NODES["üè† NodeManager<br/>244 —Å—Ç—Ä–æ–∫–∏<br/>‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞–º–∏<br/>‚Ä¢ –°—Ç–∞—Ç—É—Å—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è<br/>‚Ä¢ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É–∑–ª–∞—Ö"]
        MESSAGES["üì¨ MessageQueueManager<br/>231 —Å—Ç—Ä–æ–∫–∞<br/>‚Ä¢ –û—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π<br/>‚Ä¢ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–æ—Å—Ç–∞–≤–∫–∏<br/>‚Ä¢ –ù–∞–¥–µ–∂–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞"]
        ALGOS["ü§ñ AlgorithmScheduler<br/>759 —Å—Ç—Ä–æ–∫<br/>‚Ä¢ –°–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã<br/>‚Ä¢ –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ<br/>‚Ä¢ –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö"]
    end

    subgraph "üì§ –ü–£–ë–õ–ò–ö–ê–¢–û–†–´ –î–ê–ù–ù–´–•"
        SENSOR_PUB["üìä SensorPublisher<br/>860 —Å—Ç—Ä–æ–∫<br/>‚Ä¢ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤<br/>‚Ä¢ MQTT-–ø–æ–¥–æ–±–Ω—ã–µ —Ç–æ–ø–∏–∫–∏<br/>‚Ä¢ –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏"]
        ACTUATOR_PUB["üîß ActuatorPublisher<br/>604 —Å—Ç—Ä–æ–∫–∏<br/>‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç—É–∞—Ç–æ—Ä–∞–º–∏<br/>‚Ä¢ –°–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ–ª–µ<br/>‚Ä¢ –ö–æ–º–∞–Ω–¥—ã —É–¥–∞–ª–µ–Ω–Ω—ã–º —É–∑–ª–∞–º"]
    end

    subgraph "üîç –î–ò–ê–ì–ù–û–°–¢–ò–ß–ï–°–ö–ò–ï –°–ò–°–¢–ï–ú–´"
        SYSTEM_MON["üõ°Ô∏è SystemMonitor<br/>274 —Å—Ç—Ä–æ–∫–∏<br/>‚Ä¢ Watchdog —Ç–∞–π–º–µ—Ä<br/>‚Ä¢ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏<br/>‚Ä¢ –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π"]
        MESH_RELIAB["üîß MeshReliabilityManager<br/>642 —Å—Ç—Ä–æ–∫–∏<br/>‚Ä¢ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å mesh-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π<br/>‚Ä¢ Ping —Ü–∏–∫–ª—ã<br/>‚Ä¢ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–µ–π"]
        MESH_PERF["üìà MeshPerformanceMonitor<br/>244 —Å—Ç—Ä–æ–∫–∏<br/>‚Ä¢ –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏<br/>‚Ä¢ –ê–Ω–∞–ª–∏–∑ –∑–∞–¥–µ—Ä–∂–µ–∫<br/>‚Ä¢ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"]
        CONN_DETECT["üö® ConnectionLossDetector<br/>690 —Å—Ç—Ä–æ–∫<br/>‚Ä¢ 5 —Å–æ—Å—Ç–æ—è–Ω–∏–π —É–∑–ª–æ–≤<br/>‚Ä¢ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã<br/>‚Ä¢ –¢—Ä–µ–Ω–¥-–∞–Ω–∞–ª–∏–∑ —Å–±–æ–µ–≤"]
        MESH_STATS["üìä MeshStatisticsManager<br/>1052 —Å—Ç—Ä–æ–∫–∏<br/>‚Ä¢ –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–µ—Ç–∏<br/>‚Ä¢ –ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ñ–∏–∫–∞<br/>‚Ä¢ –û—Ç—á–µ—Ç—ã –æ —Ä–∞–±–æ—Ç–µ"]
        PING_MGR["üèì PingManager<br/>762 —Å—Ç—Ä–æ–∫–∏<br/>‚Ä¢ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–¥–µ—Ä–∂–µ–∫<br/>‚Ä¢ Windows-style ping<br/>‚Ä¢ –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–≤—è–∑–∏"]
        SENSOR_CONN["üì° SensorConnectionMonitor<br/>828 —Å—Ç—Ä–æ–∫<br/>‚Ä¢ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤<br/>‚Ä¢ –î–µ—Ç–µ–∫—Ü–∏—è —É–º–∏—Ä–∞—é—â–∏—Ö —Å–µ–Ω—Å–æ—Ä–æ–≤<br/>‚Ä¢ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π"]
    end

    subgraph "üõ°Ô∏è –ó–ê–©–ò–¢–ù–´–ï –ú–ï–•–ê–ù–ò–ó–ú–´"
        SAFE_MEM["üíæ SafeMemory<br/>211 —Å—Ç—Ä–æ–∫<br/>‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ free heap<br/>‚Ä¢ –ó–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–µ–∫<br/>‚Ä¢ –í–∞–ª–∏–¥–∞—Ü–∏—è —É–∫–∞–∑–∞—Ç–µ–ª–µ–π"]
        SAFE_MATH["üî¢ SafeMath<br/>89 —Å—Ç—Ä–æ–∫<br/>‚Ä¢ –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ 0<br/>‚Ä¢ Overflow –ø—Ä–æ–≤–µ—Ä–∫–∏<br/>‚Ä¢ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏"]
        SAFE_CMD["üîê SafeCommandParser<br/>85 —Å—Ç—Ä–æ–∫<br/>‚Ä¢ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞<br/>‚Ä¢ –ó–∞—â–∏—Ç–∞ –æ—Ç buffer overflow<br/>‚Ä¢ –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥"]
        WATCHDOG["‚è∞ SystemMonitor<br/>274 —Å—Ç—Ä–æ–∫–∏<br/>‚Ä¢ Watchdog –∫–∞–∂–¥—ã–π —Ü–∏–∫–ª<br/>‚Ä¢ –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π ESP32<br/>‚Ä¢ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏"]
    end

    subgraph "üíæ –°–ò–°–¢–ï–ú–ê –•–†–ê–ù–ï–ù–ò–Ø"
        LITTLEFS["üìÅ LittleFS<br/>‚Ä¢ /config.json<br/>‚Ä¢ /pins<br/>‚Ä¢ /rules.json<br/>‚Ä¢ /tasks.json<br/>‚Ä¢ /wifi_config.json"]
        SPIFFS["üìÑ SPIFFS<br/>‚Ä¢ –õ–æ–≥–∏<br/>‚Ä¢ –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã<br/>‚Ä¢ –ö—ç—à –¥–∞–Ω–Ω—ã—Ö"]
        EEPROM["üîß EEPROM<br/>‚Ä¢ –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏<br/>‚Ä¢ WiFi –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è<br/>‚Ä¢ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–∏"]
    end

    subgraph "üîå –ñ–ï–õ–ï–ó–û ESP32"
        ESP32["üíª ESP32<br/>‚Ä¢ 520KB RAM<br/>‚Ä¢ 4MB Flash<br/>‚Ä¢ WiFi 2.4GHz<br/>‚Ä¢ GPIO –ø–∏–Ω—ã<br/>‚Ä¢ UART Serial"]
        GPIO["üîå GPIO<br/>‚Ä¢ –î–∞—Ç—á–∏–∫–∏ DHT22/DHT11<br/>‚Ä¢ –ê–Ω–∞–ª–æ–≥–æ–≤—ã–µ –≤—Ö–æ–¥—ã<br/>‚Ä¢ –¶–∏—Ñ—Ä–æ–≤—ã–µ –≤—Ö–æ–¥—ã/–≤—ã—Ö–æ–¥—ã<br/>‚Ä¢ –†–µ–ª–µ –º–æ–¥—É–ª–∏"]
        WIFI["üì° WiFi<br/>‚Ä¢ 2.4GHz b/g/n<br/>‚Ä¢ STA/AP —Ä–µ–∂–∏–º—ã<br/>‚Ä¢ painlessMesh –ø—Ä–æ—Ç–æ–∫–æ–ª<br/>‚Ä¢ –ê–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"]
    end

    %% –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–ô –ò–ù–¢–ï–†–§–ï–ô–°
    CLI --> WIZARD
    CLI --> LOGGER
    WIZARD --> CLI

    %% –û–°–ù–û–í–ù–´–ï –ú–ï–ù–ï–î–ñ–ï–†–´
    CONFIG --> LITTLEFS
    NETWORK --> WIFI
    PINS --> GPIO
    RULES --> PINS
    TASKS --> CLI
    NODES --> NETWORK
    MESSAGES --> NETWORK
    ALGOS --> PINS

    %% –ü–£–ë–õ–ò–ö–ê–¢–û–†–´ –î–ê–ù–ù–´–•
    PINS --> SENSOR_PUB
    PINS --> ACTUATOR_PUB
    SENSOR_PUB --> NETWORK
    ACTUATOR_PUB --> NETWORK

    %% –î–ò–ê–ì–ù–û–°–¢–ò–ß–ï–°–ö–ò–ï –°–ò–°–¢–ï–ú–´
    SYSTEM_MON --> ESP32
    MESH_RELIAB --> NETWORK
    MESH_PERF --> NETWORK
    CONN_DETECT --> NETWORK
    MESH_STATS --> NETWORK
    PING_MGR --> NETWORK
    SELF_REFLECT --> NETWORK
    SENSOR_CONN --> PINS

    %% –ó–ê–©–ò–¢–ù–´–ï –ú–ï–•–ê–ù–ò–ó–ú–´
    CLI --> SAFE_CMD
    PINS --> SAFE_MEM
    RULES --> SAFE_MATH
    SYSTEM_MON --> WATCHDOG

    %% –•–†–ê–ù–ï–ù–ò–ï
    CONFIG --> LITTLEFS
    LOGGER --> SPIFFS
    CONFIG --> EEPROM

    %% –ñ–ï–õ–ï–ó–û
    PINS --> GPIO
    NETWORK --> WIFI
    SYSTEM_MON --> ESP32
    CONFIG --> ESP32

    %% –°–¢–ò–õ–ò –ü–û –í–ê–ñ–ù–û–°–¢–ò
    style CLI fill:#96ceb4,stroke:#fff,stroke-width:3px
    style PINS fill:#feca57,stroke:#fff,stroke-width:3px
    style NETWORK fill:#45b7d1,stroke:#fff,stroke-width:3px
    style SYSTEM_MON fill:#ff6b6b,stroke:#fff,stroke-width:3px
    style ESP32 fill:#e8f5e8,stroke:#388e3c,stroke-width:3px
    style CONFIG fill:#dda0dd,stroke:#fff,stroke-width:2px
    style SAFE_MEM fill:#98fb98,stroke:#fff,stroke-width:2px
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–∞ –¥–∏–∞–≥—Ä–∞–º–º–∞:**

–ü–µ—Ä–µ–¥ –≤–∞–º–∏ - –ø–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã AgriSwarm —Å **43 –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏**. –≠—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è —Å–∏—Å—Ç–µ–º—ã, –≥–¥–µ –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ—è–≤–∏–ª—Å—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–±–ª–µ–º—ã.

**–ö–ª—é—á–µ–≤—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è:**

üîÑ **Manager Pattern –≤ –¥–µ–π—Å—Ç–≤–∏–∏** - –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ ConfigManager, NetworkManager –∏ PinManager –æ–±—Ä–∞–∑—É—é—Ç "–ø–æ–∑–≤–æ–Ω–æ—á–Ω–∏–∫" —Å–∏—Å—Ç–µ–º—ã. –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ª–∏–±–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∏–º –¥–∞–Ω–Ω—ã–µ, –ª–∏–±–æ –ø–æ—Ç—Ä–µ–±–ª—è—é—Ç –∏—Ö —Å–µ—Ä–≤–∏—Å—ã. –≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä –ø–∞—Ç—Ç–µ—Ä–Ω–∞ "–ú–µ–Ω–µ–¥–∂–µ—Ä", –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏.

üõ°Ô∏è **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞** - —Å–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º Watchdog. –≠—Ç–æ —Ü–µ–ª–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞: SafeMemory –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —É—Ç–µ—á–∫–∏, SafeMath –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å, SafeCommandParser –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤–≤–æ–¥–∞, –∞ SystemMonitor —Å–ª–µ–¥–∏—Ç –∑–∞ –æ–±—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º. –ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –ª–æ–≤–∏—Ç —Å–≤–æ–π –∫–ª–∞—Å—Å –æ—à–∏–±–æ–∫.

üìä **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∫–∞–∫ –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã–π –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω** - 8 –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ø—Ä–∞–≤–∞—è —á–∞—Å—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—ã) - —ç—Ç–æ –Ω–µ "–¥–æ–±–∞–≤–∫–∞", –∞ –Ω–µ–æ—Ç—ä–µ–º–ª–µ–º–∞—è —á–∞—Å—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –û–Ω–∏ –ø–æ—è–≤–∏–ª–∏—Å—å –∏–∑ –≥–æ—Ä—å–∫–æ–≥–æ –æ–ø—ã—Ç–∞ –æ—Ç–ª–∞–¥–∫–∏ mesh-—Å–µ—Ç–∏, –≥–¥–µ –±–µ–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫.

üåê **Mesh-—Å–µ—Ç—å —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è** - –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —Å–∫–æ–ª—å–∫–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–≤—è–∑–∞–Ω–æ —Å NetworkManager: MeshReliabilityManager, MeshPerformanceMonitor, ConnectionLossDetector, PingManager. –≠—Ç–æ –Ω–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å, –∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å - painlessMesh –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞ –ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ, –∏ —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

üíæ **–¢—Ä–∏ —Å–∏—Å—Ç–µ–º—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è** - LittleFS –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, SPIFFS –¥–ª—è –ª–æ–≥–æ–≤, EEPROM –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–µ —Å–ª—É—á–∞–π–Ω–æ: –∫–∞–∂–¥–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Å–≤–æ–µ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –¥–æ—Å—Ç—É–ø–∞.

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**

–≠—Ç–∞ –¥–∏–∞–≥—Ä–∞–º–º–∞ - –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –∞ **–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏**. –ö–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –∏–¥–µ—Ç –Ω–µ —Ç–∞–∫, –ø—Ä–æ—Å–ª–µ–¥–∏—Ç–µ –ø—É—Ç—å –æ—Ç —Å–∏–º–ø—Ç–æ–º–∞ –∫ –ø—Ä–∏—á–∏–Ω–µ –ø–æ —Å—Ç—Ä–µ–ª–∫–∞–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –¥–∞—Ç—á–∏–∫ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç: PinManager ‚Üí GPIO ‚Üí SensorConnectionMonitor ‚Üí SystemMonitor. –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞ —ç—Ç–æ–º –ø—É—Ç–∏ –∏–º–µ–µ—Ç —Å–≤–æ–∏ –ª–æ–≥–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É.

---

## üéØ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –ò—Ö –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å

### **üîó –ü–∞—Ç—Ç–µ—Ä–Ω—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

–ü—Ä–µ–∂–¥–µ —á–µ–º –ø–æ–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ –¥–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å **–∫–∞–∫ –æ–Ω–∏ –æ–±—â–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º**. AgriSwarm –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã.

#### **üéØ Manager Pattern - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ö–æ–Ω—Ü–µ–ø—Ü–∏—è**

**Manager Pattern** - —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –æ–±—â–∞–ª–∏—Å—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º (—á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –±—ã –∫ —Å–ø–∞–≥–µ—Ç—Ç–∏-–∫–æ–¥—É), –∫–∞–∂–¥–∞—è –æ–±–ª–∞—Å—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ "–º–µ–Ω–µ–¥–∂–µ—Ä–µ":

- **ConfigManager** - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **NetworkManager** - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ç–∏
- **PinManager** - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ GPIO

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ 10 —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞–ø—Ä—è–º—É—é —á–∏—Ç–∞—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ —Ñ–∞–π–ª–∞. –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è, –ø—Ä–∏–¥–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª—è—Ç—å –≤—Å–µ 10 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –° Manager Pattern –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –≤ ConfigManager, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–∞–∂–µ –Ω–µ –∑–∞–º–µ—Ç—è—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π.

**–ü—Ä–∏–º–µ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:**

```cpp
// ‚ùå –ü–õ–û–•–û - –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª—É
File configFile = LittleFS.open("/config.json", "r");
String wifiSSID = parseJSON(configFile)["wifi"]["ssid"];

// ‚úÖ –•–û–†–û–®–û - —á–µ—Ä–µ–∑ –º–µ–Ω–µ–¥–∂–µ—Ä
String wifiSSID = ConfigManager::getInstance().getWiFiSSID();
```

#### **üîÑ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**

–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø: **–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—Å–µ–≥–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—Ç –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∫ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º**, –Ω–∏–∫–æ–≥–¥–∞ –Ω–∞–æ–±–æ—Ä–æ—Ç.

**–ò–µ—Ä–∞—Ä—Ö–∏—è —É—Ä–æ–≤–Ω–µ–π:**

```
–£—Ä–æ–≤–µ–Ω—å 4 (–í—ã—Å—à–∏–π): CommandExecutor, InteractiveHelper
         ‚Üì –∑–∞–≤–∏—Å–∏—Ç –æ—Ç
–£—Ä–æ–≤–µ–Ω—å 3 (–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞): RuleEngine, AlgorithmScheduler
         ‚Üì –∑–∞–≤–∏—Å–∏—Ç –æ—Ç
–£—Ä–æ–≤–µ–Ω—å 2 (–ú–µ–Ω–µ–¥–∂–µ—Ä—ã): ConfigManager, NetworkManager, PinManager
         ‚Üì –∑–∞–≤–∏—Å–∏—Ç –æ—Ç
–£—Ä–æ–≤–µ–Ω—å 1 (–ù–∏–∑—à–∏–π): SafeMemory, SafeMath, Logger
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**

–ï—Å–ª–∏ –±—ã –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, Logger) –∑–∞–≤–∏—Å–µ–ª –æ—Ç –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, NetworkManager), –≤–æ–∑–Ω–∏–∫–ª–∞ –±—ã —Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å. –≠—Ç–æ —Å–¥–µ–ª–∞–ª–æ –±—ã –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —É—Å–ª–æ–∂–Ω–∏–ª–æ –±—ã –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã.

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä:**

RuleEngine –∑–∞–≤–∏—Å–∏—Ç –æ—Ç PinManager (–¥–ª—è —á—Ç–µ–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ç—É–∞—Ç–æ—Ä–∞–º–∏), –Ω–æ PinManager –ù–ï –∑–Ω–∞–µ—Ç –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ RuleEngine. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —É–≤–µ–¥–æ–º–∏—Ç—å RuleEngine –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–∏–Ω–∞, PinManager –∏—Å–ø–æ–ª—å–∑—É–µ—Ç callback —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –Ω–µ –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤.

#### **üì° Publish-Subscribe –¥–ª—è —Å–æ–±—ã—Ç–∏–π**

–î–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∞—Ç—á–∏–∫–∞, –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ —Å–µ—Ç–∏) —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–ø–∞—Ç—Ç–µ—Ä–Ω Publish-Subscribe**:

```cpp
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ
SensorPublisher::publish("temp1", 25.5);

// –î—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ —Å–æ–±—ã—Ç–∏—è
RuleEngine::onSensorUpdate("temp1", 25.5);  // –ü—Ä–æ–≤–µ—Ä–∏—Ç –ø—Ä–∞–≤–∏–ª–∞
NetworkManager::onSensorUpdate("temp1", 25.5);  // –û—Ç–ø—Ä–∞–≤–∏—Ç –≤ —Å–µ—Ç—å
```

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **—Å–ª–∞–±—É—é —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –∑–Ω–∞—é—Ç –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ –Ω–∞–ø—Ä—è–º—É—é, –æ–Ω–∏ —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏–∫—É—é—Ç –∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è.

#### **üîí Singleton –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤**

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ **Singleton** (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –≤ —Å–∏—Å—Ç–µ–º–µ):

- **SystemMonitor** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–∏–Ω, —á—Ç–æ–±—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **Logger** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–∏–Ω, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏
- **ConfigManager** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–∏–Ω, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```cpp
class SystemMonitor {
private:
    SystemMonitor() {}  // –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    static SystemMonitor* instance;
    
public:
    static SystemMonitor& getInstance() {
        if (!instance) {
            instance = new SystemMonitor();
        }
        return *instance;
    }
};
```

**–û—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å —Å Singleton:**

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º Singleton —Ç–æ–ª—å–∫–æ —Ç–∞–º, –≥–¥–µ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. –ó–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —ç—Ç–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é –∏ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

#### **‚ö° –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª—å–Ω—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π**

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É `pin_read temp1`**

```
1. CommandExecutor –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. CommandExecutor –≤—ã–∑—ã–≤–∞–µ—Ç PinManager::readPin("temp1")
3. PinManager —á–∏—Ç–∞–µ—Ç GPIO –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ
4. CommandExecutor —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –≤—ã–≤–æ–¥ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Serial
5. Logger –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ –ª–æ–≥
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –î–∞—Ç—á–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏–∑–º–µ–Ω–∏–ª –∑–Ω–∞—á–µ–Ω–∏–µ**

```
1. PinManager::update() –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞—Ç—á–∏–∫
2. PinManager –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ (24.5¬∞C ‚Üí 25.5¬∞C)
3. PinManager –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ —á–µ—Ä–µ–∑ SensorPublisher
4. RuleEngine –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞
5. –ü—Ä–∞–≤–∏–ª–æ "temp1 > 25" —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
6. RuleEngine –≤—ã–∑—ã–≤–∞–µ—Ç PinManager::setPinState("fan1", HIGH)
7. NetworkManager –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ mesh-—Å–µ—Ç—å
8. MeshStatisticsManager –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—á–µ—Ç—á–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ mesh-—Å–µ—Ç–∏**

```
1. NetworkManager –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç painlessMesh
2. NetworkManager –ø–∞—Ä—Å–∏—Ç JSON –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è
3. MessageRouter –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω—É–∂–Ω–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É
4. –ï—Å–ª–∏ —ç—Ç–æ sensor_data ‚Üí SensorPublisher –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
5. –ï—Å–ª–∏ —ç—Ç–æ actuator_cmd ‚Üí ActuatorPublisher –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
6. –ï—Å–ª–∏ —ç—Ç–æ heartbeat ‚Üí NodeManager –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å —É–∑–ª–∞
7. MeshStatisticsManager –æ–±–Ω–æ–≤–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏
8. ConnectionLossDetector –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É–∑–ª–∞
```

–≠—Ç–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –∫–∞–∫ **–ø—Ä–æ—Å—Ç–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ** (—á—Ç–µ–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞, –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã) –∑–∞–ø—É—Å–∫–∞–µ—Ç **–∫–∞—Å–∫–∞–¥ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π** –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏. –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ—é —Ä–æ–ª—å, –Ω–µ –∑–Ω–∞—è –æ –¥–µ—Ç–∞–ª—è—Ö –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

---

### **üèóÔ∏è –î–µ—Ç–∞–ª—å–Ω–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ì—Ä—É–ø–ø–∞–º**

#### **‚öôÔ∏è –Ø–¥—Ä–æ –°–∏—Å—Ç–µ–º—ã (Core Components)**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –ü—Ä–∏–º–µ—Ä –∏–∑ –∫–æ–¥–∞ |
|-----------|------|--------|----------------|----------------|
| **ConfigManager** | ConfigManager.cpp | 655 | –ó–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ LittleFS | `config.loadFromFile()`, `config.saveToFile()` |
| **SystemMonitor** | SystemMonitor.cpp | 274 | Watchdog —Ç–∞–π–º–µ—Ä, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏, –∑–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π | `SystemMonitor::getInstance().feedWatchdog()` |
| **TaskScheduler** | Scheduler.cpp | 192 | –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Å callback'–∞–º–∏ | `taskScheduler.addTask()`, `taskScheduler.update()` |
| **Logger** | Logger.cpp | 61 | –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å —É—Ä–æ–≤–Ω—è–º–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏ | `Logger::getInstance().info()`, `Logger::getInstance().error()` |

#### **üåê –°–µ—Ç–µ–≤–∞—è –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ (Network Layer)**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –ü—Ä–∏–º–µ—Ä –∏–∑ –∫–æ–¥–∞ |
|-----------|------|--------|----------------|----------------|
| **NetworkManager** | NetworkManager.cpp | 948 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WiFi –∏ painlessMesh —Å–µ—Ç—å—é | `networkManager.handleClient()`, `networkManager.sendMessage()` |
| **NodeManager** | NodeManager.cpp | 244 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞–º–∏ —Å–µ—Ç–∏ –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å–∞–º–∏ | `nodeManager.getNodeInfo()`, `nodeManager.updateNodeStatus()` |
| **PingManager** | PingManager.cpp | 762 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–¥–µ—Ä–∂–µ–∫ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–≤—è–∑–∏ | `PingManager::getInstance().getPingStats()` |
| **AutoConnectionManager** | AutoConnectionManager.cpp | 88 | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–±–æ—è—Ö | `autoConnectionManager.update()` |
| **HostManager** | HostManager.cpp | 250 | –†–µ–∂–∏–º —Ö–æ—Å—Ç–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ | `hostManager.start()`, `hostManager.stop()` |

#### **üîå –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ (Hardware Layer)**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –ü—Ä–∏–º–µ—Ä –∏–∑ –∫–æ–¥–∞ |
|-----------|------|--------|----------------|----------------|
| **PinManager** | PinManager.cpp | 1635 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GPIO, –¥–∞—Ç—á–∏–∫–∞–º–∏ DHT, —Ä–µ–ª–µ | `pinManager.setupPin()`, `pinManager.updateSensors()` |
| **SensorPublisher** | SensorPublisher.cpp | 860 | –ü—É–±–ª–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤ –≤ —Å–µ—Ç—å | `sensorPublisher.publish()`, `sensorPublisher.handleData()` |
| **ActuatorPublisher** | ActuatorPublisher.cpp | 604 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç—É–∞—Ç–æ—Ä–∞–º–∏ –∏ —Ä–µ–ª–µ | `actuatorPublisher.setState()`, `actuatorPublisher.update()` |
| **SensorMonitor** | SensorMonitor.cpp | 519 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤ | `sensorMonitor.update()`, `sensorMonitor.getStatus()` |
| **SensorConnectionMonitor** | SensorConnectionMonitor.cpp | 828 | –î–µ—Ç–µ–∫—Ü–∏—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–±–æ–µ–≤ –¥–∞—Ç—á–∏–∫–æ–≤ | `SensorConnectionMonitor::getInstance().update()` |

#### **‚ö° –°–∏—Å—Ç–µ–º–∞ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ (Automation Layer)**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|-----------|------|--------|----------------|-------------|
| **RuleEngine** | RuleEngine.cpp | 518 | –õ–æ–≥–∏–∫–∞ IF-THEN –ø—Ä–∞–≤–∏–ª —Å –∫—É–ª–¥–∞—É–Ω–∞–º–∏ | –í—ã—Å–æ–∫–∞—è |
| **AlgorithmScheduler** | AlgorithmScheduler.cpp | 759 | –°–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ | –ù–∏–∑–∫–∞—è |
| **MessageQueueManager** | MessageQueueManager.cpp | 231 | –û—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ | –°—Ä–µ–¥–Ω—è—è |
| **MessageRouter** | MessageRouter.cpp | 146 | –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π | –°—Ä–µ–¥–Ω—è—è |

#### **üíª –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (User Interface)**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|-----------|------|--------|----------------|-------------|
| **CommandExecutor** | CommandExecutor.cpp | 6286 | CLI —Å 98 –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ | –í—ã—Å–æ–∫–∞—è |
| **InteractiveHelper** | InteractiveHelper.cpp | 886 | –ú–∞—Å—Ç–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–º–æ—â–Ω–∏–∫–∏ | –°—Ä–µ–¥–Ω—è—è |
| **PinCommandHelper** | PinCommandHelper.cpp | 475 | –ü–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∫–æ–º–∞–Ω–¥ GPIO –∏ –¥–∞—Ç—á–∏–∫–æ–≤ | –°—Ä–µ–¥–Ω—è—è |
| **SafeCommandParser** | SafeCommandParser.cpp | 85 | –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞ | –°—Ä–µ–¥–Ω—è—è |

#### **üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –°–∏—Å—Ç–µ–º—ã (Diagnostic Systems)**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|-----------|------|--------|----------------|-------------|
| **SystemDiagnostics** | SystemDiagnostics.cpp | 269 | –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º | –°—Ä–µ–¥–Ω—è—è |
| **MeshReliabilityManager** | MeshReliabilityManager.cpp | 642 | –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å mesh-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ | –°—Ä–µ–¥–Ω—è—è |
| **MeshPerformanceMonitor** | MeshPerformanceMonitor.cpp | 244 | –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∏ | –°—Ä–µ–¥–Ω—è—è |
| **ConnectionLossDetector** | ConnectionLossDetector.cpp | 690 | –î–µ—Ç–µ–∫—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π —É–∑–ª–æ–≤ (5 —Å–æ—Å—Ç–æ—è–Ω–∏–π) | –°—Ä–µ–¥–Ω—è—è |
| **MeshStatisticsManager** | MeshStatisticsManager.cpp | 1052 | –°–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–µ—Ç–∏ | –°—Ä–µ–¥–Ω—è—è |
| **LogPauseManager** | LogPauseManager.cpp | 133 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—É–∑–∞–º–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | –ù–∏–∑–∫–∞—è |

#### **üõ°Ô∏è –°–∏—Å—Ç–µ–º—ã –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (Security Systems)**
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|-----------|------|--------|----------------|-------------|
| **TrustedNodeManager** | TrustedNodeManager.cpp | 503 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ —É–∑–ª–∞–º–∏ —Å–µ—Ç–∏ | –°—Ä–µ–¥–Ω—è—è |
| **NotificationSystem** | NotificationSystem.cpp | 484 | –°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∞–ª–µ—Ä—Ç—ã | –°—Ä–µ–¥–Ω—è—è |
| **SafeMemory** | SafeMemory.h | 211 | –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø–∞–º—è—Ç—å—é | –í—ã—Å–æ–∫–∞—è |
| **SafeMath** | SafeMath.h | 89 | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ | –í—ã—Å–æ–∫–∞—è |

---

## üîÑ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

*–ò–∑ main.cpp, —Å—Ç—Ä–æ–∫–∏ 175-280:*

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã - —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ "–≤–∫–ª—é—á–µ–Ω–∏–µ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∞ **—Ç—â–∞—Ç–µ–ª—å–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ö–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏—è**, –≥–¥–µ –ø–æ—Ä—è–¥–æ–∫ –∏–º–µ–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Å—Ç—Ä–æ–≥–æ –ø–æ—Å–ª–µ —Ç–µ—Ö, –æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω –∑–∞–≤–∏—Å–∏—Ç, –Ω–æ –¥–æ —Ç–µ—Ö, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –Ω–µ–≥–æ.

**–ü–æ—á–µ–º—É –ø–æ—Ä—è–¥–æ–∫ —Ç–∞–∫ –≤–∞–∂–µ–Ω?**

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ NetworkManager –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ ConfigManager –∑–∞–≥—Ä—É–∑–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ WiFi. –ò–ª–∏ RuleEngine –Ω–∞—á–Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ PinManager, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞—Ç—á–∏–∫–∞–º–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç - –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫—Ä–∞—Ö —Å–∏—Å—Ç–µ–º—ã –∏–ª–∏ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

**–ü—Ä–∏–Ω—Ü–∏–ø "Watchdog –º–µ–∂–¥—É –∫–∞–∂–¥—ã–º —à–∞–≥–æ–º":**

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –æ—Ä–∞–Ω–∂–µ–≤—ã–µ –±–ª–æ–∫–∏ `Watchdog Feed` –º–µ–∂–¥—É –∫–∞–∂–¥—ã–º —ç—Ç–∞–ø–æ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –≠—Ç–æ –Ω–µ –ø–∞—Ä–∞–Ω–æ–π—è, –∞ **–∂–∏–∑–Ω–µ–Ω–Ω–æ –≤–∞–∂–Ω–∞—è –∑–∞—â–∏—Ç–∞**. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–æ—Å–æ–±–µ–Ω–Ω–æ NetworkManager) –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥. –ë–µ–∑ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ "–∫–æ—Ä–º–ª–µ–Ω–∏—è" watchdog —Ç–∞–π–º–µ—Ä–∞ ESP32 —Ä–µ—à–∏—Ç, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∏—Å–ª–∞, –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É.

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:**

–ï—Å–ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ª—é–±–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—Ä–æ–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è, —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–∞–¥–∞–µ—Ç. –û–Ω–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –≤ –ª–æ–≥, –ø—ã—Ç–∞–µ—Ç—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∏ –≤ –∫–æ–Ω—Ü–µ –≤—ã–¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –æ —Ç–æ–º, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ —á—Ç–æ –Ω–µ—Ç. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ "–¥–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ" - –Ω–∞–ø—Ä–∏–º–µ—Ä, –±–µ–∑ —Å–µ—Ç–∏, –Ω–æ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –¥–∞—Ç—á–∏–∫–∞–º–∏.

```mermaid
graph TD
    START([–ó–∞–ø—É—Å–∫ ESP32]) --> SERIAL[Serial.begin 115200]
    SERIAL --> LED[–ù–∞—Å—Ç—Ä–æ–π–∫–∞ LED —Å—Ç–∞—Ç—É—Å–∞]
    LED --> LOGS[–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è]
    LOGS --> INIT1[–®–ê–ì 1: ConfigManager::begin]
    INIT1 --> WATCHDOG1[Watchdog Feed]
    WATCHDOG1 --> INIT2[–®–ê–ì 2: SystemMonitor::begin]
    INIT2 --> WATCHDOG2[Watchdog Feed]
    WATCHDOG2 --> INIT3[–®–ê–ì 3: TaskScheduler::begin]
    INIT3 --> WATCHDOG3[Watchdog Feed]
    WATCHDOG3 --> INIT4[–®–ê–ì 4: PinManager::begin]
    INIT4 --> WATCHDOG4[Watchdog Feed]
    WATCHDOG4 --> INIT5[–®–ê–ì 5: MessageQueueManager::begin]
    INIT5 --> WATCHDOG5[Watchdog Feed]
    WATCHDOG5 --> INIT6[–®–ê–ì 6: RuleEngine::begin]
    INIT6 --> WATCHDOG6[Watchdog Feed]
    WATCHDOG6 --> INIT7[–®–ê–ì 7: AlgorithmScheduler::begin]
    INIT7 --> WATCHDOG7[Watchdog Feed]
    WATCHDOG7 --> INIT8[–®–ê–ì 8: CommandExecutor::begin]
    INIT8 --> WATCHDOG8[Watchdog Feed]
    WATCHDOG8 --> INIT9[–®–ê–ì 9: NetworkManager::begin]
    INIT9 --> INIT10[–®–ê–ì 10: NodeManager::begin]
    INIT10 --> CALLBACKS[–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Callbacks]
    CALLBACKS --> READY[‚úÖ –°–∏—Å—Ç–µ–º–∞ –ì–æ—Ç–æ–≤–∞]
    
    style START fill:#e1f5fe
    style READY fill:#c8e6c9
    style WATCHDOG1 fill:#fff3e0
    style WATCHDOG2 fill:#fff3e0
    style WATCHDOG3 fill:#fff3e0
    style WATCHDOG4 fill:#fff3e0
    style WATCHDOG5 fill:#fff3e0
    style WATCHDOG6 fill:#fff3e0
    style WATCHDOG7 fill:#fff3e0
    style WATCHDOG8 fill:#fff3e0
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–∞ –¥–∏–∞–≥—Ä–∞–º–º–∞:**

–ü–µ—Ä–µ–¥ –≤–∞–º–∏ - **—Ä–µ–∞–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞** —Å–∏—Å—Ç–µ–º—ã, –∏–∑–≤–ª–µ—á–µ–Ω–Ω–∞—è –∏–∑ main.cpp. –≠—Ç–æ –Ω–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —Å—Ö–µ–º–∞, –∞ —Ç–æ—á–Ω–æ–µ –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ ESP32.

**–ê–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**

1Ô∏è‚É£ **Serial –∏ LED –ø–µ—Ä–≤—ã–º–∏** - –¥–æ —Ç–æ–≥–æ –∫–∞–∫ —á—Ç–æ-–ª–∏–±–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫, –º—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ø–æ—Å–æ–±—ã –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º. –ï—Å–ª–∏ –¥–∞–ª—å–Ω–µ–π—à–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–∞–ª–∏—Ç—Å—è, —Ö–æ—Ç—è –±—ã –±—É–¥–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–æ–±—â–∏—Ç—å –æ–± —ç—Ç–æ–º.

2Ô∏è‚É£ **ConfigManager - —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç** - –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –ë–µ–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫–∏–µ –ø–∏–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∫ –∫–∞–∫–æ–π —Å–µ—Ç–∏ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è, –∫–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å.

3Ô∏è‚É£ **SystemMonitor —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ Config** - –∑–∞—â–∏—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω–∞ –∫–∞–∫ –º–æ–∂–Ω–æ —Ä–∞–Ω—å—à–µ. –° —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –∫–∞–∂–¥—ã–π —Ü–∏–∫–ª –ø—Ä–æ–≥—Ä–∞–º–º—ã –±—É–¥–µ—Ç "–∫–æ—Ä–º–∏—Ç—å" watchdog, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –∑–∞–≤–∏—Å–∞–Ω–∏—è.

4Ô∏è‚É£ **PinManager –¥–æ RuleEngine** - –ª–æ–≥–∏—á–Ω–æ: –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –¥–∞—Ç—á–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã. –≠—Ç–æ –ø—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.

5Ô∏è‚É£ **NetworkManager –ø–æ—á—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–º** - —Å–µ—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –¥–æ–ª–≥–æ (2-5 —Å–µ–∫—É–Ω–¥), –ø–æ—ç—Ç–æ–º—É –º—ã –¥–µ–ª–∞–µ–º —ç—Ç–æ –ø–æ—Å–ª–µ –≤—Å–µ—Ö –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –°–∏—Å—Ç–µ–º–∞ —É–∂–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ, –ø–æ–∫–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–µ—Ç–µ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.

**–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**

- ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Config, Logger, TaskScheduler): **10-50–º—Å** –∫–∞–∂–¥—ã–π
- üîß –°—Ä–µ–¥–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (PinManager, RuleEngine): **100-300–º—Å** –∫–∞–∂–¥—ã–π  
- üåê –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (NetworkManager): **2-5 —Å–µ–∫—É–Ω–¥**
- ‚è±Ô∏è **–û–±—â–µ–µ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: 3-7 —Å–µ–∫—É–Ω–¥** –æ—Ç –≤–∫–ª—é—á–µ–Ω–∏—è –¥–æ –ø–æ–ª–Ω–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

**üõ°Ô∏è –°–∏—Å—Ç–µ–º–∞ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –ö–∞–∂–¥—ã–π —ç—Ç–∞–ø –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è –≤—ã–∑–æ–≤–æ–º `SystemMonitor::getInstance().feedWatchdog()` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏–π.

---

## üåê Mesh-–°–µ—Ç—å: –†–µ–∞–ª—å–Ω–∞—è –°–∏—Ç—É–∞—Ü–∏—è

*–ê–Ω–∞–ª–∏–∑ NetworkManager.cpp, MeshReliabilityManager.cpp, ConnectionLossDetector.cpp*

### ‚ö†Ô∏è –ß–µ—Å—Ç–Ω—ã–µ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–∞—è–≤–ª–µ–Ω–æ | –†–µ–∞–ª—å–Ω–æ—Å—Ç—å | –ü—Ä–æ–±–ª–µ–º—ã |
|----------|----------|------------|----------|
| **–£–∑–ª—ã –≤ —Å–µ—Ç–∏** | –î–æ 20 | **–°—Ç–∞–±–∏–ª—å–Ω–æ: 5-10** | >10 —É–∑–ª–æ–≤ ‚Üí –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è |
| **Heartbeat** | 5 —Å–µ–∫—É–Ω–¥ | 5 —Å–µ–∫—É–Ω–¥ | **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ** = –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Å–±–æ–µ–≤ |
| **–ó–∞–¥–µ—Ä–∂–∫–∞** | <50–º—Å | **50-200–º—Å –Ω–æ—Ä–º–∞** | >200–º—Å = –ø—Ä–æ–±–ª–µ–º–∞ |
| **–ü–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–æ–≤** | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ | **10-30% –æ–±—ã—á–Ω–æ** | –í—ã—Å–æ–∫–∏–µ –ø–æ—Ç–µ—Ä–∏ = –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ |
| **–°–æ—Å—Ç–æ—è–Ω–∏—è —É–∑–ª–æ–≤** | ON/OFF | **5 —Å–æ—Å—Ç–æ—è–Ω–∏–π** | CONNECTED‚ÜíUNSTABLE‚ÜíDEGRADED‚ÜíDISCONNECTED‚ÜíLOST |
| **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** | –í—ã—Å–æ–∫–∞—è | **–¢—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è** | –ú–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è –±–æ—Ä—å–±—ã —Å–æ —Å–±–æ—è–º–∏ |

### üîß –ü–æ—á–µ–º—É –¢–∞–∫ –ú–Ω–æ–≥–æ –ö–æ–¥–∞ –î–ª—è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

```cpp
// NetworkManager.cpp - —Ç—Ä–æ–µ–∫—Ä–∞—Ç–Ω—ã–π –≤—ã–∑–æ–≤ update()
_mesh.update();  // –ü–µ—Ä–≤—ã–π —Ä–∞–∑
_mesh.update();  // –í—Ç–æ—Ä–æ–π —Ä–∞–∑  
_mesh.update();  // –¢—Ä–µ—Ç–∏–π —Ä–∞–∑ "–¥–ª—è –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏"
```

**‚ö° –†–µ–∞–ª—å–Ω–æ—Å—Ç—å:** –≠—Ç–æ –ù–ï –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –∞ **–±–æ—Ä—å–±–∞ —Å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é** painlessMesh.

### üîó –¢–æ–ø–æ–ª–æ–≥–∏—è –°–µ—Ç–∏

Mesh-—Å–µ—Ç—å - —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ "WiFi –º–µ–∂–¥—É ESP32", –∞ **—Å–∞–º–æ–æ—Ä–≥–∞–Ω–∏–∑—É—é—â–∞—è—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**, –≥–¥–µ –∫–∞–∂–¥—ã–π —É–∑–µ–ª –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–æ–π, —Ç–∞–∫ –∏ —Ä–µ—Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä–æ–º –¥–ª—è –¥—Ä—É–≥–∏—Ö —É–∑–ª–æ–≤. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å: –µ—Å–ª–∏ –æ–¥–∏–Ω —É–∑–µ–ª –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Å—Ç—Ä–æ—è, —Å–µ—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç—ã —á–µ—Ä–µ–∑ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —É–∑–ª—ã.

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä —Ç–æ–ø–æ–ª–æ–≥–∏–∏:**

–°–ª–µ–¥—É—é—â–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∏–ø–∏—á–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –Ω–µ–±–æ–ª—å—à–æ–≥–æ —Ö–æ–∑—è–π—Å—Ç–≤–∞. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤:

üè† **–ó–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º** - —É–∑–ª—ã —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º—É —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—é (—Ç–µ–ø–ª–∏—Ü–∞, –æ–≥–æ—Ä–æ–¥, –¥–æ–º). –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø, –Ω–æ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: —É–∑–ª—ã –≤ –æ–¥–Ω–æ–π –∑–æ–Ω–µ —á–∞—â–µ –æ–±—â–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º.

üìè **–†–∞—Å—Å—Ç–æ—è–Ω–∏—è –∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ** - —Å–ø–ª–æ—à–Ω—ã–µ –ª–∏–Ω–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–¥–æ 100–º –≤ –ø—Ä—è–º–æ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏), –ø—É–Ω–∫—Ç–∏—Ä–Ω—ã–µ - —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –ø—É—Ç–∏. –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ WiFi 2.4GHz –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –Ω–∞ 200-300–º, –Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–∏ —Ä–µ–∑–∫–æ –ø–∞–¥–∞–µ—Ç.

üîÑ **–ò–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å –ø—É—Ç–µ–π** - –º–µ–∂–¥—É NODE1 –∏ NODE4 –µ—Å—Ç—å –∫–∞–∫ –ø—Ä—è–º–æ–π –ø—É—Ç—å (—á–µ—Ä–µ–∑ NODE2), —Ç–∞–∫ –∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π (—á–µ—Ä–µ–∑ NODE3). –ï—Å–ª–∏ NODE2 –≤—ã–π–¥–µ—Ç –∏–∑ —Å—Ç—Ä–æ—è, —Å–æ–æ–±—â–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–π–¥—É—Ç –ø–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É.

üé® **–¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∫–∞–∂–¥—ã–π —É–∑–µ–ª –∏–º–µ–µ—Ç —Å–≤–æ–π —Ü–≤–µ—Ç –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è. –í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —ç—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —É–∑–ª—ã –≤ –ª–æ–≥–∞—Ö –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ.

```mermaid
graph TB
    subgraph "üè† –ó–æ–Ω–∞ A - –¢–µ–ø–ª–∏—Ü–∞"
        NODE1[ESP32 #1<br/>–î–∞—Ç—á–∏–∫–∏ –∫–ª–∏–º–∞—Ç–∞<br/>ID: 3456789123]
        NODE2[ESP32 #2<br/>–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–∏–≤–∞<br/>ID: 2345678912]
    end
    
    subgraph "üå± –ó–æ–Ω–∞ B - –û–≥–æ—Ä–æ–¥"
        NODE3[ESP32 #3<br/>–î–∞—Ç—á–∏–∫–∏ –ø–æ—á–≤—ã<br/>ID: 1234567891]
        NODE4[ESP32 #4<br/>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ–º<br/>ID: 9876543210]
    end
    
    subgraph "üè° –ó–æ–Ω–∞ C - –î–æ–º"
        NODE5[ESP32 #5<br/>–ö–ª–∏–º–∞—Ç-–∫–æ–Ω—Ç—Ä–æ–ª—å<br/>ID: 8765432109]
    end
    
    NODE1 ---|–¥–æ 100–º| NODE2
    NODE1 ---|–¥–æ 100–º| NODE3
    NODE2 ---|–¥–æ 100–º| NODE4
    NODE3 ---|–¥–æ 100–º| NODE5
    NODE1 -.->|—Ä–µ–∑–µ—Ä–≤| NODE4
    NODE2 -.->|—Ä–µ–∑–µ—Ä–≤| NODE5
    
    style NODE1 fill:#e3f2fd
    style NODE2 fill:#e8f5e8
    style NODE3 fill:#fff3e0
    style NODE4 fill:#fce4ec
    style NODE5 fill:#f3e5f5
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–∞ —Ç–æ–ø–æ–ª–æ–≥–∏—è:**

–≠—Ç–æ **—Ä–µ–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**, –∫–æ—Ç–æ—Ä–∞—è —É—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ. –ü—è—Ç—å —É–∑–ª–æ–≤ - —ç—Ç–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã. –ë–æ–ª—å—à–µ 10 —É–∑–ª–æ–≤, –∏ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏–∑-–∑–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞—é—â–µ–≥–æ —Å–ª—É–∂–µ–±–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞.

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

‚úÖ **–†–∞–∑–º–µ—â–∞–π—Ç–µ —É–∑–ª—ã —Å –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ–º –∑–æ–Ω** - –∫–∞–∂–¥—ã–π —É–∑–µ–ª –¥–æ–ª–∂–µ–Ω "–≤–∏–¥–µ—Ç—å" –º–∏–Ω–∏–º—É–º 2-3 –¥—Ä—É–≥–∏—Ö —É–∑–ª–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏  
‚úÖ **–ò–∑–±–µ–≥–∞–π—Ç–µ –¥–ª–∏–Ω–Ω—ã—Ö —Ü–µ–ø–æ—á–µ–∫** - –º–∞–∫—Å–∏–º—É–º 3-4 "–ø—Ä—ã–∂–∫–∞" –º–µ–∂–¥—É –∫—Ä–∞–π–Ω–∏–º–∏ —É–∑–ª–∞–º–∏, –∏–Ω–∞—á–µ –∑–∞–¥–µ—Ä–∂–∫–∏ —Å—Ç–∞–Ω—É—Ç –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º—ã–º–∏  
‚úÖ **–û–¥–∏–Ω —É–∑–µ–ª - –æ–¥–∏–Ω —Ö–æ—Å—Ç** - –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∏–º–µ—Ç—å –æ–¥–∏–Ω —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —É–∑–µ–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –¥–æ–º–µ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º –ø–∏—Ç–∞–Ω–∏–µ–º), –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–æ–º —Å–µ—Ç–∏  
‚ö†Ô∏è **–£—á–∏—Ç—ã–≤–∞–π—Ç–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è** - —Å—Ç–µ–Ω—ã, –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –¥–µ—Ä–µ–≤—å—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –æ—Å–ª–∞–±–ª—è—é—Ç —Å–∏–≥–Ω–∞–ª

### üì® –¢–∏–ø—ã –°–æ–æ–±—â–µ–Ω–∏–π

*–ò–∑ MessageRouter.cpp –∏ NetworkManager.cpp:*

–í mesh-—Å–µ—Ç–∏ —Ü–∏—Ä–∫—É–ª–∏—Ä—É—é—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, –∫–∞–∂–¥–∞—è —Å–æ —Å–≤–æ–∏–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º. –ü–æ–Ω–∏–º–∞–Ω–∏–µ —ç—Ç–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π:**

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç–æ–ø–∏–∫-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å** (–ø–æ—Ö–æ–∂—É—é –Ω–∞ MQTT), –≥–¥–µ –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Ç–∏–ø (—Ç–æ–ø–∏–∫) –∏ –ø–æ–ª–µ–∑–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É (payload). –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∑–ª–∞–º –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ –∏—Ö —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π, —Å–Ω–∏–∂–∞—è –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É.

```mermaid
graph LR
    subgraph "üìä –°–∏—Å—Ç–µ–º–Ω—ã–µ –°–æ–æ–±—â–µ–Ω–∏—è"
        HEARTBEAT[heartbeat<br/>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏]
        NODE_INFO[node_info<br/>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —É–∑–ª–µ]
        PING[ping/pong<br/>–ò–∑–º–µ—Ä–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–µ–∫]
    end
    
    subgraph "üå°Ô∏è –î–∞–Ω–Ω—ã–µ –î–∞—Ç—á–∏–∫–æ–≤"
        SENSOR_DATA[sensor_data<br/>–ü–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤]
        SENSOR_UPDATE[sensor_update<br/>–û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è]
    end
    
    subgraph "‚ö° –ö–æ–º–∞–Ω–¥—ã –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è"
        ACTUATOR_CMD[actuator_cmd<br/>–ö–æ–º–∞–Ω–¥—ã –∞–∫—Ç—É–∞—Ç–æ—Ä–∞–º]
        PIN_COMMAND[pin_command<br/>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GPIO]
    end
    
    HEARTBEAT -.->|–∫–∞–∂–¥—ã–µ 5—Å| NODE_INFO
    SENSOR_DATA -.->|–ø–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª—É| ACTUATOR_CMD
    PING -.->|–∫–∞–∂–¥—ã–µ 2—Å| SENSOR_UPDATE
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–∞ –¥–∏–∞–≥—Ä–∞–º–º–∞:**

–ü–µ—Ä–µ–¥ –≤–∞–º–∏ - **–ø–æ–ª–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π** –≤ AgriSwarm. –ö–∞–∂–¥—ã–π —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è –∏–º–µ–µ—Ç —Å–≤–æ—é —á–∞—Å—Ç–æ—Ç—É –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ.

**–ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ñ–∏–∫–∞:**

üìä **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (40-50% —Ç—Ä–∞—Ñ–∏–∫–∞)** - —ç—Ç–æ "—Å–ª—É–∂–µ–±–∫–∞", –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Å–µ—Ç–∏:
- `heartbeat` –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ - —É–∑–ª—ã —Å–æ–æ–±—â–∞—é—Ç "—è –∂–∏–≤"
- `node_info` –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö - –æ–±–º–µ–Ω –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (–∏–º—è, –≤–µ—Ä—Å–∏—è, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- `ping/pong` –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã - –∏–∑–º–µ—Ä–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–µ–∫ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–≤—è–∑–∏

üå°Ô∏è **–î–∞–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–æ–≤ (30-40% —Ç—Ä–∞—Ñ–∏–∫–∞)** - –ø–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞:
- `sensor_data` –ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º—É –∏–Ω—Ç–µ—Ä–≤–∞–ª—É (–æ–±—ã—á–Ω–æ 30-60 —Å–µ–∫—É–Ω–¥)
- `sensor_update` –ø—Ä–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å >1¬∞C)

‚ö° **–ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (10-20% —Ç—Ä–∞—Ñ–∏–∫–∞)** - –¥–µ–π—Å—Ç–≤–∏—è:
- `actuator_cmd` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–ª–µ, –º–æ—Ç–æ—Ä–∞–º–∏
- `pin_command` –¥–ª—è –ø—Ä—è–º–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è GPIO

**–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è:**

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—é**:
1. üî¥ **–í—ã—Å–æ–∫–∏–π** - –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)
2. üü° **–°—Ä–µ–¥–Ω–∏–π** - –¥–∞–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–æ–≤ (–≤–∞–∂–Ω—ã, –Ω–æ –º–æ–≥—É—Ç –ø–æ–¥–æ–∂–¥–∞—Ç—å)
3. üü¢ **–ù–∏–∑–∫–∏–π** - —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å –ø—Ä–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–µ)

**–ü—Ä–æ–±–ª–µ–º–∞ —Å–ª—É–∂–µ–±–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞:**

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ 40-50% —Ç—Ä–∞—Ñ–∏–∫–∞ - —ç—Ç–æ "–Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã" –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–µ—Ç–∏. –≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É —Ä–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –¥–ª—è –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å–µ–≥–æ 0.3-0.8KB/—Å–µ–∫, —Ö–æ—Ç—è —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ WiFi –º–æ–∂–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª—å—à–µ.

---

## üå°Ô∏è –°–∏—Å—Ç–µ–º–∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –î–∞—Ç—á–∏–∫–∞–º–∏

*–ò–∑ PinManager.h –∏ Structures.h:*

### üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –¢–∏–ø—ã

PinManager - —ç—Ç–æ **—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –º–µ–∂–¥—É –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –∂–µ–ª–µ–∑–æ–º. –û–Ω –∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏ –¥–∞—Ç—á–∏–∫–æ–≤ –∏ –∞–∫—Ç—É–∞—Ç–æ—Ä–æ–≤, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –µ–¥–∏–Ω—ã–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∏–º–∏.

**–§–∏–ª–æ—Å–æ—Ñ–∏—è –¥–∏–∑–∞–π–Ω–∞:**

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏–º–µ—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –¥–∞—Ç—á–∏–∫–∞ (DHT11Manager, DHT22Manager, RelayManager –∏ —Ç.–¥.), —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–µ–¥–∏–Ω—ã–π PinManager —Å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏**. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∫–æ–¥ –∏ –¥–µ–ª–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞—Ç—á–∏–∫–æ–≤ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–∞—á–µ–π.

**–¢—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤:**

üå°Ô∏è **–î–∞—Ç—á–∏–∫–∏ –∫–ª–∏–º–∞—Ç–∞** - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –¥–∞—Ç—á–∏–∫–∏ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏ —Å–≤—è–∑–∏  
üìä **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –≤—Ö–æ–¥—ã** - –ø—Ä–æ—Å—Ç—ã–µ –∞–Ω–∞–ª–æ–≥–æ–≤—ã–µ –∏ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –≤—Ö–æ–¥—ã –¥–ª—è –ª—é–±—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤  
‚ö° **–£–ø—Ä–∞–≤–ª—è—é—â–∏–µ –≤—ã—Ö–æ–¥—ã** - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–ª–µ, –º–æ—Ç–æ—Ä–∞–º–∏, —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞–º–∏

```mermaid
graph TD
    subgraph "üå°Ô∏è –î–∞—Ç—á–∏–∫–∏ –ö–ª–∏–º–∞—Ç–∞"
        DHT11[DHT11<br/>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ¬±2¬∞C<br/>–í–ª–∞–∂–Ω–æ—Å—Ç—å ¬±5%]
        DHT22[DHT22<br/>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ¬±0.5¬∞C<br/>–í–ª–∞–∂–Ω–æ—Å—Ç—å ¬±2%]
        DHT11_HUM[DHT11_HUM<br/>–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–∏–Ω –≤–ª–∞–∂–Ω–æ—Å—Ç–∏]
        DHT22_HUM[DHT22_HUM<br/>–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –ø–∏–Ω –≤–ª–∞–∂–Ω–æ—Å—Ç–∏]
    end
    
    subgraph "üìä –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –í—Ö–æ–¥—ã"
        ANALOG_IN[ANALOG_IN<br/>0-4095 –¥–∏–∞–ø–∞–∑–æ–Ω<br/>EMA —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ]
        DIGITAL_IN[DIGITAL_IN<br/>0/1 —Å–æ—Å—Ç–æ—è–Ω–∏–µ<br/>–ê–Ω—Ç–∏–¥—Ä–µ–±–µ–∑–≥ 50–º—Å]
    end
    
    subgraph "‚ö° –£–ø—Ä–∞–≤–ª—è—é—â–∏–µ –í—ã—Ö–æ–¥—ã"
        RELAY[RELAY<br/>–î–æ 10A/220V<br/>–ì–∞–ª—å–≤–∞–Ω–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–≤—è–∑–∫–∞]
        DIGITAL_OUT[DIGITAL_OUT<br/>0/1 —Å–æ—Å—Ç–æ—è–Ω–∏–µ<br/>3.3V –ª–æ–≥–∏–∫–∞]
    end
    
    DHT11 --> PIN_MANAGER[PinManager<br/>–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ]
    DHT22 --> PIN_MANAGER
    ANALOG_IN --> PIN_MANAGER
    DIGITAL_IN --> PIN_MANAGER
    PIN_MANAGER --> RELAY
    PIN_MANAGER --> DIGITAL_OUT
    
    style PIN_MANAGER fill:#fff3e0
    style DHT22 fill:#e8f5e8
    style RELAY fill:#ffebee
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–∞ –¥–∏–∞–≥—Ä–∞–º–º–∞:**

–≠—Ç–æ **–ø–æ–ª–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤** –≤ AgriSwarm. –ö–∞–∂–¥—ã–π —Ç–∏–ø –∏–º–µ–µ—Ç —Å–≤–æ–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏, —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ–ø—Ä–æ—Å–∞ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É:**

üå°Ô∏è **DHT22 vs DHT11** - DHT22 –¥–æ—Ä–æ–∂–µ (~$3 vs ~$1), –Ω–æ —Ç–æ—á–Ω–µ–µ –≤ 4 —Ä–∞–∑–∞. –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π (—Ç–µ–ø–ª–∏—Ü—ã, –∏–Ω–∫—É–±–∞—Ç–æ—Ä—ã) –≤—ã–±–∏—Ä–∞–π—Ç–µ DHT22. –î–ª—è –æ–±—â–µ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ DHT11.

üìä **ANALOG_IN —Å EMA —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ–º** - –∞–Ω–∞–ª–æ–≥–æ–≤—ã–µ –≤—Ö–æ–¥—ã ESP32 "—à—É–º–Ω—ã–µ" (¬±50 –µ–¥–∏–Ω–∏—Ü –∏–∑ 4095). –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Å–∫–æ–ª—å–∑—è—â–µ–µ —Å—Ä–µ–¥–Ω–µ–µ (EMA) –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —à—É–º–∞. –≠—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É (~1-2 —Å–µ–∫—É–Ω–¥—ã), –Ω–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∏–π.

üîå **DIGITAL_IN —Å –∞–Ω—Ç–∏–¥—Ä–µ–±–µ–∑–≥–æ–º** - –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ "–¥—Ä–µ–±–µ–∑–∂–∞—Ç" –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏, —Å–æ–∑–¥–∞–≤–∞—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∞–Ω—Ç–∏–¥—Ä–µ–±–µ–∑–≥ (50–º—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É.

‚ö° **RELAY —Å –≥–∞–ª—å–≤–∞–Ω–∏—á–µ—Å–∫–æ–π —Ä–∞–∑–≤—è–∑–∫–æ–π** - —Ä–µ–ª–µ –º–æ–¥—É–ª–∏ –∏–º–µ—é—Ç –æ–ø—Ç–æ–ø–∞—Ä—ã –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ ESP32 (3.3V) –æ—Ç —Å–∏–ª–æ–≤–æ–π —á–∞—Å—Ç–∏ (220V). –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ - –∫–æ—Ä–æ—Ç–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ –≤ —Å–∏–ª–æ–≤–æ–π —á–∞—Å—Ç–∏ –Ω–µ —É–±—å–µ—Ç ESP32.

**–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –ø–∏–Ω—ã:**

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ DHT11_HUM –∏ DHT22_HUM - —ç—Ç–æ **–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –ø–∏–Ω—ã**. –§–∏–∑–∏—á–µ—Å–∫–∏ DHT –¥–∞—Ç—á–∏–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É, –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç –¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö "–ø–∏–Ω–∞" –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö –∏ –≥—Ä–∞—Ñ–∏–∫–∞—Ö.

### ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –î–∞—Ç—á–∏–∫–∞

*–ò–∑ Structures.h, —Å—Ç—Ä–æ–∫–∏ 76-95:*

```
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ PinConfig —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –ø–∏–Ω–∞
- –ù–æ–º–µ—Ä GPIO (0-39)
- –¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –¢–æ–ø–∏–∫ –¥–ª—è mesh-—Å–µ—Ç–∏
- –ü–æ—Ä–æ–≥–∏ –¥–ª—è –ø—Ä–∞–≤–∏–ª (–Ω–∏–∂–Ω–∏–π/–≤–µ—Ä—Ö–Ω–∏–π)
- –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–ø—Ä–æ—Å–∞ (–º—Å)
- –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- GPIO –ø–∏—Ç–∞–Ω–∏—è (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- –í—Ä–µ–º—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –ø–∏—Ç–∞–Ω–∏—è
- –†–µ–∂–∏–º –∫–Ω–æ–ø–∫–∏ (–¥–ª—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –≤—Ö–æ–¥–æ–≤)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω—Ç–∏–¥—Ä–µ–±–µ–∑–≥–∞
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è
```

---

## ü§ñ –°–∏—Å—Ç–µ–º–∞ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

*–ò–∑ RuleEngine.h, —Å—Ç—Ä–æ–∫–∏ 30-78:*

### üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–∞–≤–∏–ª–∞

RuleEngine - —ç—Ç–æ **–º–æ–∑–≥ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏** AgriSwarm. –û–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫—É—é –ø–∞—Ä–∞–¥–∏–≥–º—É "IF-THEN" (–µ—Å–ª–∏-—Ç–æ), –Ω–æ —Å –≤–∞–∂–Ω—ã–º–∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è–º–∏ –¥–ª—è embedded —Å–∏—Å—Ç–µ–º: –∫—É–ª–¥–∞—É–Ω—ã, —Å—á–µ—Ç—á–∏–∫–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª.

**–ü–æ—á–µ–º—É –Ω–µ –ø—Ä–æ—Å—Ç–æ IF-THEN?**

–í —Ç–µ–æ—Ä–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–∞: "–µ—Å–ª–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ >25¬∞C, –≤–∫–ª—é—á–∏ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä". –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:
- –ß—Ç–æ –µ—Å–ª–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∫–æ–ª–µ–±–ª–µ—Ç—Å—è –æ–∫–æ–ª–æ 25¬∞C? –í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä –±—É–¥–µ—Ç –≤–∫–ª—é—á–∞—Ç—å—Å—è/–≤—ã–∫–ª—é—á–∞—Ç—å—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
- –ß—Ç–æ –µ—Å–ª–∏ –¥–∞—Ç—á–∏–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–¥–∞–ª –æ—à–∏–±–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ? –ù–µ —Ö–æ—Ç–∏–º —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —à—É–º
- –ß—Ç–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è, –Ω–æ –Ω–µ —É–¥–∞–ª—è—Ç—å –µ–≥–æ?

RuleEngine —Ä–µ—à–∞–µ—Ç —ç—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã —á–µ—Ä–µ–∑ **–∫—É–ª–¥–∞—É–Ω—ã** (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è–º–∏), **—Å—á–µ—Ç—á–∏–∫–∏** (–¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏) –∏ **—Ñ–ª–∞–≥–∏ –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è**.

**–ê–Ω–∞—Ç–æ–º–∏—è –ø—Ä–∞–≤–∏–ª–∞:**

–ö–∞–∂–¥–æ–µ –ø—Ä–∞–≤–∏–ª–æ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö —á–∞—Å—Ç–µ–π: —É—Å–ª–æ–≤–∏–µ (–∫–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å), –¥–µ–π—Å—Ç–≤–∏–µ (—á—Ç–æ –¥–µ–ª–∞—Ç—å) –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–∫–∞–∫ —á–∞—Å—Ç–æ –∏ –Ω—É–∂–Ω–æ –ª–∏ –≤–æ–æ–±—â–µ).

```mermaid
graph TB
    subgraph "üìù –£—Å–ª–æ–≤–∏–µ (RuleCondition)"
        COND_TYPE[–¢–∏–ø –£—Å–ª–æ–≤–∏—è<br/>>, <, ==, !=, –ú–ï–ñ–î–£, –ò–ó–ú–ï–ù–ò–õ–û–°–¨]
        COND_SOURCE[–ò—Å—Ç–æ—á–Ω–∏–∫<br/>–¢–æ–ø–∏–∫ –∏–ª–∏ –ø–∏–Ω –¥–∞—Ç—á–∏–∫–∞]
        COND_VALUE[–ó–Ω–∞—á–µ–Ω–∏–µ<br/>–ü–æ—Ä–æ–≥ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è]
    end
    
    subgraph "‚ö° –î–µ–π—Å—Ç–≤–∏–µ (RuleAction)"
        ACTION_TYPE[–¢–∏–ø –î–µ–π—Å—Ç–≤–∏—è<br/>PIN_STATE, MESSAGE, LOG, TASK]
        ACTION_TARGET[–¶–µ–ª—å<br/>–ü–∏–Ω, —É–∑–µ–ª, –∏–ª–∏ –¥—Ä—É–≥–∞—è —Ü–µ–ª—å]
        ACTION_PAYLOAD[–î–∞–Ω–Ω—ã–µ<br/>–ö–æ–º–∞–Ω–¥–∞ –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã]
    end
    
    subgraph "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ü—Ä–∞–≤–∏–ª–∞"
        RULE_ID[ID –ø—Ä–∞–≤–∏–ª–∞<br/>–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä]
        RULE_ENABLED[–í–∫–ª—é—á–µ–Ω–æ<br/>true/false]
        RULE_COOLDOWN[–ö—É–ª–¥–∞—É–Ω<br/>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è–º–∏]
        RULE_COUNT[–°—á–µ—Ç—á–∏–∫<br/>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π]
    end
    
    COND_TYPE --> RULE_ENGINE[RuleEngine<br/>–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–∞–≤–∏–ª]
    COND_SOURCE --> RULE_ENGINE
    COND_VALUE --> RULE_ENGINE
    RULE_ENGINE --> ACTION_TYPE
    RULE_ENGINE --> ACTION_TARGET
    RULE_ENGINE --> ACTION_PAYLOAD
    
    style RULE_ENGINE fill:#fff3e0
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–∞ –¥–∏–∞–≥—Ä–∞–º–º–∞:**

–≠—Ç–æ **–¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –ø—Ä–∞–≤–∏–ª–∞** –Ω–∞ —Å–æ—Å—Ç–∞–≤–Ω—ã–µ —á–∞—Å—Ç–∏. –ö–∞–∂–¥—ã–π –±–ª–æ–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–¥–µ.

**–¢–∏–ø—ã —É—Å–ª–æ–≤–∏–π:**

- `>`, `<`, `==`, `!=` - –ø—Ä–æ—Å—Ç—ã–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ > 25)
- `–ú–ï–ñ–î–£` - –¥–∏–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π (–≤–ª–∞–∂–Ω–æ—Å—Ç—å –º–µ–∂–¥—É 40 –∏ 60)
- `–ò–ó–ú–ï–ù–ò–õ–û–°–¨` - —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ, –∞ –Ω–µ –Ω–∞ –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –∫–Ω–æ–ø–æ–∫)

**–¢–∏–ø—ã –¥–µ–π—Å—Ç–≤–∏–π:**

- `PIN_STATE` - –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–∏–Ω–∞ (–≤–∫–ª—é—á–∏—Ç—å —Ä–µ–ª–µ)
- `MESSAGE` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ mesh-—Å–µ—Ç—å (—É–≤–µ–¥–æ–º–∏—Ç—å –¥—Ä—É–≥–æ–π —É–∑–µ–ª)
- `LOG` - –∑–∞–ø–∏—Å–∞—Ç—å –≤ –ª–æ–≥ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
- `TASK` - –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–¥–∞—á—É –∏–∑ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ (—Å–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏)

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä:**

```
–£—Å–ª–æ–≤–∏–µ: temp1 > 25.0
–î–µ–π—Å—Ç–≤–∏–µ: fan1 = ON
–ö—É–ª–¥–∞—É–Ω: 60 —Å–µ–∫—É–Ω–¥
```

–≠—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –≤–∫–ª—é—á–∏—Ç –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä, –∫–æ–≥–¥–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø—Ä–µ–≤—ã—Å–∏—Ç 25¬∞C, –Ω–æ –Ω–µ –±—É–¥–µ—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ —Ç–µ—á–µ–Ω–∏–µ 60 —Å–µ–∫—É–Ω–¥. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç "–¥—Ä–µ–±–µ–∑–≥" - —á–∞—Å—Ç—ã–µ –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è.

### üîÑ –ü–æ—Ç–æ–∫ –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ü—Ä–∞–≤–∏–ª–∞

–°–ª–µ–¥—É—é—â–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–∞–≤–∏–ª–∞** –æ—Ç –º–æ–º–µ–Ω—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–∞ –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è. –≠—Ç–æ –Ω–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —Å—Ö–µ–º–∞, –∞ —Ç–æ—á–Ω–æ–µ –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–¥–∞ –≤ RuleEngine::checkRules().

```mermaid
graph TD
    SENSOR[üå°Ô∏è –ü–æ–∫–∞–∑–∞–Ω–∏–µ –î–∞—Ç—á–∏–∫–∞<br/>temp1 = 28.5¬∞C] --> CHECK_RULES[üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ü—Ä–∞–≤–∏–ª<br/>RuleEngine::checkRules]
    CHECK_RULES --> FIND_RULE[üìù –ù–∞–π—Ç–∏ –ü–æ–¥—Ö–æ–¥—è—â–∏–µ –ü—Ä–∞–≤–∏–ª–∞<br/>temp1 > 25.0]
    FIND_RULE --> CHECK_COOLDOWN[‚è∞ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ö—É–ª–¥–∞—É–Ω–∞<br/>–ü—Ä–æ—à–ª–æ –ª–∏ 60 —Å–µ–∫—É–Ω–¥?]
    CHECK_COOLDOWN --> |–î–∞| EXECUTE[‚ö° –í—ã–ø–æ–ª–Ω–∏—Ç—å –î–µ–π—Å—Ç–≤–∏–µ<br/>fan1 = ON]
    CHECK_COOLDOWN --> |–ù–µ—Ç| SKIP[‚è≠Ô∏è –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å]
    EXECUTE --> UPDATE_STATS[üìä –û–±–Ω–æ–≤–∏—Ç—å –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É<br/>–°—á–µ—Ç—á–∏–∫ + 1, –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è]
    UPDATE_STATS --> LOG[üìù –ó–∞–ø–∏—Å–∞—Ç—å –≤ –õ–æ–≥<br/>Rule 'cooling' triggered]
    SKIP --> WAIT[‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –°–ª–µ–¥—É—é—â–µ–≥–æ –¶–∏–∫–ª–∞]
    LOG --> WAIT
    
    style CHECK_RULES fill:#e3f2fd
    style EXECUTE fill:#c8e6c9
    style SKIP fill:#fff3e0
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–∞ –¥–∏–∞–≥—Ä–∞–º–º–∞:**

–≠—Ç–æ **–ø–æ—à–∞–≥–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º** –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∞–≤–∏–ª–∞. –ö–∞–∂–¥—ã–π –±–ª–æ–∫ - —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–¥–µ.

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ—á–∫–∏:**

üîç **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—É–ª–¥–∞—É–Ω–∞** - —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è. –ë–µ–∑ –Ω–µ—ë —Å–∏—Å—Ç–µ–º–∞ —Ç—Ä–∞—Ç–∏–ª–∞ –±—ã —Ä–µ—Å—É—Ä—Å—ã –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –¥–µ–π—Å—Ç–≤–∏—è. –ö—É–ª–¥–∞—É–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ: `(currentTime - lastTriggerTime) < cooldownMs`.

‚è≠Ô∏è **–ü—Ä–æ–ø—É—Å–∫ vs –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** - –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ "–ø—Ä–æ–ø—É—â–µ–Ω–Ω–æ–µ" –ø—Ä–∞–≤–∏–ª–æ –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ - –ø—Ä–∞–≤–∏–ª–æ –ø—Ä–æ—Å—Ç–æ –∂–¥–µ—Ç –æ–∫–æ–Ω—á–∞–Ω–∏—è –∫—É–ª–¥–∞—É–Ω–∞. –≠—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç "–ø—Ä–∞–≤–∏–ª–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏".

üìä **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** - –∫–∞–∂–¥–æ–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç —Å—á–µ—Ç—á–∏–∫ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è. –≠—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `rule_stats` –∏ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —á–∞—Å—Ç–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –ø—Ä–∞–≤–∏–ª–∞.

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**

–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–¥–Ω–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ –∑–∞–Ω–∏–º–∞–µ—Ç **~50-100 –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥** –Ω–∞ ESP32. –ü—Ä–∏ 10 –ø—Ä–∞–≤–∏–ª–∞—Ö —ç—Ç–æ –≤—Å–µ–≥–æ 0.5-1–º—Å –Ω–∞ —Ü–∏–∫–ª. –°–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ—Ç–Ω–∏ –ø—Ä–∞–≤–∏–ª –±–µ–∑ –∑–∞–º–µ—Ç–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

**–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

‚ùå **–°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π –∫—É–ª–¥–∞—É–Ω** - –µ—Å–ª–∏ –∫—É–ª–¥–∞—É–Ω –º–µ–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ —Ä–µ–∞–∫—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1 —Å–µ–∫—É–Ω–¥–∞ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞), –ø—Ä–∞–≤–∏–ª–æ –±—É–¥–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞—á–Ω–µ—Ç –ø–∞–¥–∞—Ç—å.

‚ùå **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - –µ—Å–ª–∏ –ø—Ä–∞–≤–∏–ª–æ A –≤–∫–ª—é—á–∞–µ—Ç –¥–∞—Ç—á–∏–∫ B, –∞ –ø—Ä–∞–≤–∏–ª–æ B –≤–∫–ª—é—á–∞–µ—Ç –¥–∞—Ç—á–∏–∫ A, –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª. –°–∏—Å—Ç–µ–º–∞ –Ω–µ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∑–∞—â–∏—Ç—ã –æ—Ç —ç—Ç–æ–≥–æ - –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.

‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∫—É–ª–¥–∞—É–Ω—ã:**
- –ö–ª–∏–º–∞—Ç-–∫–æ–Ω—Ç—Ä–æ–ª—å (–≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä—ã, –æ–±–æ–≥—Ä–µ–≤–∞—Ç–µ–ª–∏): 60-300 —Å–µ–∫—É–Ω–¥
- –ü–æ–ª–∏–≤: 3600 —Å–µ–∫—É–Ω–¥ (1 —á–∞—Å)
- –û—Å–≤–µ—â–µ–Ω–∏–µ: 300-600 —Å–µ–∫—É–Ω–¥
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: 60-120 —Å–µ–∫—É–Ω–¥

---

## üíæ –°–∏—Å—Ç–µ–º–∞ –•—Ä–∞–Ω–µ–Ω–∏—è –î–∞–Ω–Ω—ã—Ö

*–ò–∑ ConfigManager.cpp –∏ main.cpp:*

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –§–∞–π–ª–æ–≤–æ–π –°–∏—Å—Ç–µ–º—ã

```
LittleFS (4MB Flash –ø–∞–º—è—Ç—å)
‚îú‚îÄ‚îÄ /config.json              # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ /config_backup.json       # –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ /wifi_config.json         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Wi-Fi —Å–µ—Ç–∏
‚îú‚îÄ‚îÄ /node_name.json          # –ò–º—è —É–∑–ª–∞ –≤ —Å–µ—Ç–∏
‚îú‚îÄ‚îÄ /node_access.json        # –£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ —É–∑–ª–∞
‚îú‚îÄ‚îÄ /rules.json              # –ü—Ä–∞–≤–∏–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ /tasks.json              # –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
‚îú‚îÄ‚îÄ /algorithms.json         # –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
‚îú‚îÄ‚îÄ /pins/                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–∞—Ç—á–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ temp1.json
‚îÇ   ‚îú‚îÄ‚îÄ soil1.json
‚îÇ   ‚îî‚îÄ‚îÄ pump1.json
‚îî‚îÄ‚îÄ /logs/                   # –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### üîí –°–∏—Å—Ç–µ–º–∞ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

*–ò–∑ SafeMemory.h –∏ SafeMath.h:*

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ embedded —Å–∏—Å—Ç–µ–º–∞—Ö - —ç—Ç–æ –Ω–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è, –∞ **–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –∑–∞—â–∏—Ç—ã** –æ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ ESP32.

**–¢—Ä–∏ —É—Ä–æ–≤–Ω—è –∑–∞—â–∏—Ç—ã:**

üõ°Ô∏è **–ó–∞—â–∏—Ç–∞ –ø–∞–º—è—Ç–∏** - ESP32 –∏–º–µ–µ—Ç –≤—Å–µ–≥–æ 520KB RAM, –∏ —É—Ç–µ—á–∫–∞ –¥–∞–∂–µ 1KB –≤ —á–∞—Å –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –∫—Ä–∞—Ö—É —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π. SafeMemory –Ω–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫–∏ (—ç—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤ C++), –Ω–æ **–æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∏—Ö —Ä–∞–Ω–æ** —á–µ—Ä–µ–∑ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ heap.

üßÆ **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞** - –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å, –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ integer, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ float –∑–Ω–∞—á–µ–Ω–∏—è (NaN, Infinity) - –≤—Å—ë —ç—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç undefined behavior –≤ C++. SafeMath –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏.

‚è∞ **–°–∏—Å—Ç–µ–º–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - Watchdog —Ç–∞–π–º–µ—Ä - —ç—Ç–æ **–∞–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –∑–∞—â–∏—Ç–∞** ESP32. –ï—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ "–∫–æ—Ä–º–∏—Ç" watchdog –∫–∞–∂–¥—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥, —á–∏–ø –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è. –≠—Ç–æ –ø–æ—Å–ª–µ–¥–Ω—è—è –ª–∏–Ω–∏—è –æ–±–æ—Ä–æ–Ω—ã –ø—Ä–æ—Ç–∏–≤ –∑–∞–≤–∏—Å–∞–Ω–∏–π.

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –≥–¥–µ –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å, embedded —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π (–ø–æ–ª–∏–≤, –æ—Ç–æ–ø–ª–µ–Ω–∏–µ). –ó–∞–≤–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É —É—â–µ—Ä–±—É.

```mermaid
graph TB
    subgraph "üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –ü–∞–º—è—Ç–∏ (SafeMemory)"
        BUFFER_CHECK[–ü—Ä–æ–≤–µ—Ä–∫–∞ –ì—Ä–∞–Ω–∏—Ü –ë—É—Ñ–µ—Ä–æ–≤]
        MEMORY_LEAK[–ö–æ–Ω—Ç—Ä–æ–ª—å –£—Ç–µ—á–µ–∫ –ü–∞–º—è—Ç–∏]
        STACK_OVERFLOW[–ó–∞—â–∏—Ç–∞ –æ—Ç Stack Overflow]
    end
    
    subgraph "üßÆ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (SafeMath)"
        DIV_ZERO[–ó–∞—â–∏—Ç–∞ –æ—Ç –î–µ–ª–µ–Ω–∏—è –Ω–∞ –ù–æ–ª—å]
        OVERFLOW[–ö–æ–Ω—Ç—Ä–æ–ª—å –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–π]
        FLOAT_VALIDATION[–ü—Ä–æ–≤–µ—Ä–∫–∞ Float –ó–Ω–∞—á–µ–Ω–∏–π]
    end
    
    subgraph "‚è∞ –°–∏—Å—Ç–µ–º–Ω—ã–π –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (SystemMonitor)"
        WATCHDOG[Watchdog Timer<br/>–°–±—Ä–æ—Å –ø—Ä–∏ –∑–∞–≤–∏—Å–∞–Ω–∏–∏]
        HEAP_MONITOR[–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ö—É—á–∏<br/>–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–≤–æ–±–æ–¥–Ω–æ–π –ø–∞–º—è—Ç–∏]
        UPTIME[–°—á–µ—Ç—á–∏–∫ –í—Ä–µ–º–µ–Ω–∏ –†–∞–±–æ—Ç—ã<br/>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏]
    end
    
    BUFFER_CHECK --> WATCHDOG
    DIV_ZERO --> WATCHDOG
    MEMORY_LEAK --> HEAP_MONITOR
    OVERFLOW --> HEAP_MONITOR
    
    style WATCHDOG fill:#ffebee
    style HEAP_MONITOR fill:#fff3e0
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–∞ –¥–∏–∞–≥—Ä–∞–º–º–∞:**

–≠—Ç–æ **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** AgriSwarm - —Ç—Ä–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–ª–æ—è –∑–∞—â–∏—Ç—ã, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ª–æ–≤–∏—Ç —Å–≤–æ–π –∫–ª–∞—Å—Å –æ—à–∏–±–æ–∫.

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:**

üõ°Ô∏è **SafeMemory –≤ –¥–µ–π—Å—Ç–≤–∏–∏:**
```cpp
// –ü–µ—Ä–µ–¥ –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏
if (ESP.getFreeHeap() < 10000) {
    Logger::error("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏!");
    return false;
}
char* buffer = new char[size];
```

–ö–∞–∂–¥–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ heap. –ü–æ—Ä–æ–≥ 10KB - —ç—Ç–æ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –º–µ–Ω—å—à–µ —ç—Ç–æ–≥–æ —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π.

üßÆ **SafeMath –≤ –¥–µ–π—Å—Ç–≤–∏–∏:**
```cpp
// –í–º–µ—Å—Ç–æ –æ–ø–∞—Å–Ω–æ–≥–æ –¥–µ–ª–µ–Ω–∏—è
float result = value / divisor;

// –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –≤–µ—Ä—Å–∏—è
float result = SafeMath::divide(value, divisor, 0.0f);
// –í–µ—Ä–Ω–µ—Ç 0.0f –µ—Å–ª–∏ divisor == 0
```

‚è∞ **Watchdog –≤ –¥–µ–π—Å—Ç–≤–∏–∏:**
```cpp
void loop() {
    SystemMonitor::getInstance().feedWatchdog();  // –ö–∞–∂–¥—ã–π —Ü–∏–∫–ª!
    
    // –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
    networkManager.update();
    pinManager.update();
    ruleEngine.update();
    
    // –ï—Å–ª–∏ –ª—é–±–∞—è –∏–∑ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –∑–∞–≤–∏—Å–Ω–µ—Ç >8 —Å–µ–∫—É–Ω–¥,
    // watchdog –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç ESP32
}
```

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π:**

–ù–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ —Å —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º:
- üõ°Ô∏è SafeMemory –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç ~2-3 –∫—Ä–∞—Ö–∞ –≤ –¥–µ–Ω—å –∏–∑-–∑–∞ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏
- üßÆ SafeMath –ª–æ–≤–∏—Ç ~5-10 –¥–µ–ª–µ–Ω–∏–π –Ω–∞ –Ω–æ–ª—å –≤ –¥–µ–Ω—å (–≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ –¥–∞—Ç—á–∏–∫–æ–≤)
- ‚è∞ Watchdog –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É ~1 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é (–æ–±—ã—á–Ω–æ –∏–∑-–∑–∞ –∑–∞–≤–∏—Å–∞–Ω–∏—è mesh-—Å–µ—Ç–∏)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**

‚ö†Ô∏è –≠—Ç–∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã - –Ω–µ –ø–∞–Ω–∞—Ü–µ—è. –û–Ω–∏ **—Å–º—è–≥—á–∞—é—Ç –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è** –æ—à–∏–±–æ–∫, –Ω–æ –Ω–µ —É—Å—Ç—Ä–∞–Ω—è—é—Ç –∏—Ö –ø—Ä–∏—á–∏–Ω—ã. SafeMemory –Ω–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç —É—Ç–µ—á–∫—É –ø–∞–º—è—Ç–∏, —Ç–æ–ª—å–∫–æ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –µ—ë. Watchdog –Ω–µ –∏—Å–ø—Ä–∞–≤–∏—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–µ, —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç —Å–∏—Å—Ç–µ–º—É.

---

## üìä –†–µ–∞–ª—å–Ω–∞—è –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –°–∏—Å—Ç–µ–º—ã

*–ß–µ—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑—É—á–µ–Ω–∏—è –∫–æ–¥–∞ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –æ—à–∏–±–æ–∫*

### üîç –†–∞–∑–º–µ—Ä –ö–æ–¥–∞ (–ß—Ç–æ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –°–ª–æ–∂–Ω–æ—Å—Ç—å)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | –û —á—ë–º —ç—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç |
|-----------|------------|-------------------|
| **CommandExecutor** | 6286 | 70% –∫–æ–¥–∞ = –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **PinManager** | 1635 | –ú–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è –∫–∞–ø—Ä–∏–∑–Ω—ã—Ö DHT –¥–∞—Ç—á–∏–∫–æ–≤ |
| **NetworkManager** | 948 | –ü–æ–ª–æ–Ω fallback'–æ–≤ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π |
| **MeshStatisticsManager** | 1052 | –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–µ—Ç–∏ |
| **ConnectionLossDetector** | 690 | –¶–µ–ª—ã–π –º–æ–¥—É–ª—å —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–±–æ–µ–≤ |
| **MeshReliabilityManager** | 642 | –ï—â—ë –æ–¥–∏–Ω –º–æ–¥—É–ª—å –¥–ª—è –±–æ—Ä—å–±—ã —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏ |

**ü§î –í—ã–≤–æ–¥:** **~17% –∫–æ–¥–∞** –Ω–∞–ø–∏—Å–∞–Ω–æ –¥–ª—è **–±–æ—Ä—å–±—ã —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏**, –∞ –Ω–µ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

### üíæ –†–µ–∞–ª—å–Ω–æ–µ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ü–∞–º—è—Ç–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | RAM | –ü—Ä–æ–±–ª–µ–º—ã |
|-----------|-----|----------|
| **painlessMesh** | ~50KB | –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —Å–±–æ—è—Ö |
| **–ù–∞—à–∏ –±—É—Ñ–µ—Ä—ã** | ~30KB | JSON –±—É—Ñ–µ—Ä—ã –±—ã—Å—Ç—Ä–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä—É—é—Ç—Å—è |
| **ArduinoJson** | ~10KB | –ú–æ–∂–µ—Ç —Ä–∞—Å—Ç–∏ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö |
| **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞/–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** | ~15KB | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã |
| **–°–≤–æ–±–æ–¥–Ω–æ** | ~410KB ‚Üí **~300KB** | **–†–µ–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ –º–µ–Ω—å—à–µ** |

**‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ >8 —á–∞—Å–æ–≤ —Å–≤–æ–±–æ–¥–Ω–∞—è –ø–∞–º—è—Ç—å –ø–∞–¥–∞–µ—Ç –¥–æ **200KB** –∏–∑-–∑–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏.

### ‚ö° –ß–µ—Å—Ç–Ω–∞—è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–µ–æ—Ä–∏—è | **–†–µ–∞–ª—å–Ω–æ—Å—Ç—å** | –ü–æ—á–µ–º—É —Ç–∞–∫ |
|----------|--------|---------------|------------|
| **Mesh –∑–∞–¥–µ—Ä–∂–∫–∞** | <50–º—Å | **100-300–º—Å** | –ü–µ—Ä–µ–æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–∏ –ø–æ—Ç–µ—Ä—è—Ö |
| **–ö–æ–º–∞–Ω–¥—ã CLI** | <10–º—Å | **50-200–º—Å** | –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ |  
| **DHT —á—Ç–µ–Ω–∏–µ** | 2—Å–µ–∫ | **3-5—Å–µ–∫** | Backoff –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö |
| **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å** | 1KB/—Å–µ–∫ | **0.3-0.8KB/—Å–µ–∫** | –°–ª—É–∂–µ–±–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ |
| **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —É–∑–ª–∞** | 99% | **80-95%** | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Å–ª–æ–≤–∏–π WiFi |

---

## üéØ –ß–µ—Å—Ç–Ω–∞—è –û—Ü–µ–Ω–∫–∞ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### ‚úÖ –ß—Ç–æ –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –†–∞–±–æ—Ç–∞–µ—Ç

1. **üìù –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: 72 –∫–æ–º–∞–Ω–¥—ã - —Ä–µ–∞–ª—å–Ω–æ —É–¥–æ–±–Ω–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
2. **üîß –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: 43 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å/–æ—Ç–∫–ª—é—á–∞—Ç—å  
3. **üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏–π**: Watchdog –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–ø–∞—Å–∞–µ—Ç
4. **‚öôÔ∏è JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑ –ø–µ—Ä–µ–ø—Ä–æ—à–∏–≤–∫–∏ - –ø–æ–ª–µ–∑–Ω–æ
5. **üìä –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: –ú–Ω–æ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–±–ª–µ–º

### ‚ùå –û—Å–Ω–æ–≤–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã  

1. **üåê –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–µ—Ç—å**: 
   - 5 —Å–æ—Å—Ç–æ—è–Ω–∏–π —É–∑–ª–æ–≤ (–æ—Ç CONNECTED –¥–æ LOST)
   - –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   - **40% –∫–æ–¥–∞** –¥–ª—è –±–æ—Ä—å–±—ã —Å–æ —Å–±–æ—è–º–∏

2. **üíæ –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é**:
   - –§—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞ 8+ —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã
   - –£—Ç–µ—á–∫–∏ –≤ painlessMesh –ø—Ä–∏ —Å–±–æ—è—Ö
   - "SafeMemory" = –ø—Ä–æ—Å—Ç—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, –Ω–µ –≤–æ–ª—à–µ–±—Å—Ç–≤–æ

3. **‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∏–∂–µ –∑–∞—è–≤–ª–µ–Ω–Ω–æ–π**:
   - –ó–∞–¥–µ—Ä–∂–∫–∏ 100-300–º—Å –≤–º–µ—Å—Ç–æ <50–º—Å
   - –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å 0.3-0.8KB/—Å–µ–∫
   - DHT –¥–∞—Ç—á–∏–∫–∏ —á–∞—Å—Ç–æ "–Ω–µ –æ—Ç–≤–µ—á–∞—é—Ç"

4. **üîß –°–ª–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:
   - CLI —á–µ—Ä–µ–∑ Serial - –Ω–µ –¥–ª—è –≤—Å–µ—Ö
   - –ú–Ω–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ç—Ä–µ–±—É—é—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è
   - –ù–µ—Ç GUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### ü§î –ß–µ—Å—Ç–Ω—ã–µ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**üëç –°—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:**
- –ò–∑—É—á–µ–Ω–∏—è IoT –∏ mesh-—Å–µ—Ç–µ–π
- –ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- –ü—Ä–æ–µ–∫—Ç–æ–≤ –≥–¥–µ –≤–∞–∂–Ω–µ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —á–µ–º —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

**üëé –ù–ï —Å—Ç–æ–∏—Ç –¥–ª—è:**
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º (–ø–æ–ª–∏–≤ –¥–æ—Ä–æ–≥–∏—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π)
- –ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–µ–∑ –¥–æ—Ä–∞–±–æ—Ç–∫–∏
- –õ—é–¥–µ–π –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞

---

## üîÑ **–ü–û–¢–û–ö –î–ê–ù–ù–´–•: –ü–û–î–†–û–ë–ù–ê–Ø –°–•–ï–ú–ê**

### **üìä –û—Ç –î–∞—Ç—á–∏–∫–∞ –∫ –î–µ–π—Å—Ç–≤–∏—é**

```mermaid
graph TD
    subgraph Sensors["üå°Ô∏è –î–∞—Ç—á–∏–∫–∏"]
        DHT22["DHT22<br/>GPIO 4,5,12-15<br/>–ò–Ω—Ç–µ—Ä–≤–∞–ª: 2+ —Å–µ–∫<br/>–¢–æ—á–Ω–æ—Å—Ç—å: ¬±0.5¬∞C"]
        ANALOG["–ê–Ω–∞–ª–æ–≥–æ–≤—ã–µ<br/>GPIO 32-39<br/>0-3.3V, 12-–±–∏—Ç<br/>EMA —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ"]
        DIGITAL["–¶–∏—Ñ—Ä–æ–≤—ã–µ<br/>–í—Å–µ GPIO –∫—Ä–æ–º–µ 6-11<br/>3.3V –ª–æ–≥–∏–∫–∞<br/>–ê–Ω—Ç–∏–¥—Ä–µ–±–µ–∑–≥: 50–º—Å"]
    end

    subgraph Processing["‚öôÔ∏è –û–±—Ä–∞–±–æ—Ç–∫–∞"]
        PIN_MGR["üîå PinManager<br/>1635 —Å—Ç—Ä–æ–∫<br/>–ß—Ç–µ–Ω–∏–µ + –≤–∞–ª–∏–¥–∞—Ü–∏—è<br/>EMA —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è"]
        SENSOR_PUB["üìä SensorPublisher<br/>860 —Å—Ç—Ä–æ–∫<br/>MQTT-like —Ç–æ–ø–∏–∫–∏<br/>–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON"]
        RULE_ENGINE["‚ö° RuleEngine<br/>518 —Å—Ç—Ä–æ–∫<br/>IF-THEN –ª–æ–≥–∏–∫–∞<br/>Cooldown 60 —Å–µ–∫"]
        ALGO_SCHED["ü§ñ AlgorithmScheduler<br/>759 —Å—Ç—Ä–æ–∫<br/>ML –æ–±—Ä–∞–±–æ—Ç–∫–∞<br/>–°–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã"]
    end

    subgraph Network["üåê –°–µ—Ç—å"]
        MESH_NET["üåê NetworkManager<br/>948 —Å—Ç—Ä–æ–∫<br/>painlessMesh<br/>WiFi STA/AP"]
        MSG_QUEUE["üì¨ MessageQueueManager<br/>231 —Å—Ç—Ä–æ–∫–∞<br/>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ—á–µ—Ä–µ–¥—å<br/>–ù–∞–¥–µ–∂–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞"]
        REMOTE_NODES["üè† –£–¥–∞–ª–µ–Ω–Ω—ã–µ –£–∑–ª—ã<br/>–î–æ 20 —É—Å—Ç—Ä–æ–π—Å—Ç–≤<br/>–ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è"]
    end

    subgraph Actuators["‚ö° –ê–∫—Ç—É–∞—Ç–æ—Ä—ã"]
        RELAY["üîå –†–µ–ª–µ<br/>GPIO –≤—Å–µ –∫—Ä–æ–º–µ 6-11<br/>–î–æ 10A/220V<br/>–ì–∞–ª—å–≤–∞–Ω–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–≤—è–∑–∫–∞"]
        LED["üí° LED<br/>GPIO –≤—Å–µ –∫—Ä–æ–º–µ 6-11<br/>3.3V, 12mA<br/>PWM –ø–æ–¥–¥–µ—Ä–∂–∫–∞"]
        DIGITAL_OUT["üîå –¶–∏—Ñ—Ä–æ–≤—ã–µ –í—ã—Ö–æ–¥—ã<br/>GPIO –≤—Å–µ –∫—Ä–æ–º–µ 6-11<br/>3.3V –ª–æ–≥–∏–∫–∞<br/>–°–æ—Å—Ç–æ—è–Ω–∏–µ ON/OFF"]
    end

    %% –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
    DHT22 --> PIN_MGR
    ANALOG --> PIN_MGR
    DIGITAL --> PIN_MGR

    PIN_MGR --> SENSOR_PUB
    PIN_MGR --> RULE_ENGINE
    PIN_MGR --> ALGO_SCHED

    SENSOR_PUB --> MESH_NET
    RULE_ENGINE --> MSG_QUEUE
    ALGO_SCHED --> MSG_QUEUE

    MSG_QUEUE --> MESH_NET
    MESH_NET --> REMOTE_NODES

    RULE_ENGINE --> RELAY
    RULE_ENGINE --> LED
    RULE_ENGINE --> DIGITAL_OUT
    MSG_QUEUE --> REMOTE_NODES

    %% –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
    PIN_MGR -.->|–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥| SENSOR_CONN_MON["üì° SensorConnectionMonitor<br/>828 —Å—Ç—Ä–æ–∫<br/>–î–µ—Ç–µ–∫—Ü–∏—è —Å–±–æ–µ–≤"]
    MESH_NET -.->|–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞| MESH_STATS["üìä MeshStatisticsManager<br/>1052 —Å—Ç—Ä–æ–∫–∏<br/>–ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ñ–∏–∫–∞"]
    MSG_QUEUE -.->|–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å| MESH_RELIAB["üîß MeshReliabilityManager<br/>642 —Å—Ç—Ä–æ–∫–∏<br/>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ"]

    SENSOR_CONN_MON -.->|–ê–ª–µ—Ä—Ç—ã| NOTIF_SYS["üîî NotificationSystem<br/>484 —Å—Ç—Ä–æ–∫–∏<br/>–°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"]
    MESH_STATS -.->|–ê–Ω–∞–ª–∏–∑| CONN_DETECT["üîó ConnectionLossDetector<br/>690 —Å—Ç—Ä–æ–∫<br/>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π"]
    MESH_RELIAB -.->|–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ| AUTO_CONN["üîÑ AutoConnectionManager<br/>88 —Å—Ç—Ä–æ–∫<br/>–ê–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"]

    %% –°—Ç–∏–ª–∏
    style PIN_MGR fill:#feca57,stroke:#fff,stroke-width:3px
    style RULE_ENGINE fill:#96ceb4,stroke:#fff,stroke-width:3px
    style MESH_NET fill:#45b7d1,stroke:#fff,stroke-width:3px
    style RELAY fill:#ff6b6b,stroke:#fff,stroke-width:2px
    style SENSOR_CONN_MON fill:#dda0dd,stroke:#fff,stroke-width:2px
```

---

## üéØ **–í–´–í–û–î–´ –ü–û –ê–†–•–ò–¢–ï–ö–¢–£–†–ï**

### **‚úÖ –°–∏–ª—å–Ω—ã–µ –°—Ç–æ—Ä–æ–Ω—ã:**
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **–ó–∞—â–∏—â–µ–Ω–Ω–æ—Å—Ç—å** - –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** - –ø–æ–¥—Ä–æ–±–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö –∞—Å–ø–µ–∫—Ç–æ–≤
- **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∞—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### **‚ùå –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –ó–æ–Ω—ã:**
- **–ò–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å** - 17% –∫–æ–¥–∞ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å** - 35 –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –º–Ω–æ–≥–æ overhead –Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
- **–û—Ç–ª–∞–¥–∫–∞** - —Å–ª–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–æ–±–ª–µ–º
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ ESP32 —Ä–µ—Å—É—Ä—Å–∞–º–∏

### **üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å** –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã –¥–ª—è production
2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å** CommandExecutor (—Å–∞–º—ã–π –±–æ–ª—å—à–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
3. **–í—ã–Ω–µ—Å—Ç–∏** —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–µ—Ç–µ–π
4. **–î–æ–±–∞–≤–∏—Ç—å** –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. **–°–æ–∑–¥–∞—Ç—å** —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã (debug/production/minimal)

---

## üèÜ **–§–ò–ù–ê–õ–¨–ù–ê–Ø –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–Ø**

**AgriSwarm –∏—Å–ø–æ–ª—å–∑—É–µ—Ç "–ú–æ–¥—É–ª—å–Ω—ã–π –ú–æ–Ω–æ–ª–∏—Ç —Å –≠–ª–µ–º–µ–Ω—Ç–∞–º–∏ –ú–∏–∫—Ä–æ—è–¥—Ä–∞" - —ç—Ç–æ:**

- ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥** –∫ embedded —Å–∏—Å—Ç–µ–º–∞–º
- ‚úÖ **–ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ—Å—Ç–æ—Ç–æ–π** –∏ –≥–∏–±–∫–æ—Å—Ç—å—é
- ‚úÖ **–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä** –¥–ª—è ESP32 —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π** –æ—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ –¥–æ –Ω–µ–±–æ–ª—å—à–æ–π —Å–µ—Ç–∏
- ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** –¥–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ö–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª:** –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤—ã–±—Ä–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á. –û–Ω–∞ —Å–æ—á–µ—Ç–∞–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–π –ø—Ä–æ—Å—Ç–æ—Ç—ã —Å –º–æ–¥—É–ª—å–Ω–æ–π –≥–∏–±–∫–æ—Å—Ç—å—é, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ—ë –∏–¥–µ–∞–ª—å–Ω–æ–π –¥–ª—è IoT —Å–∏—Å—Ç–µ–º –Ω–∞ –±–∞–∑–µ ESP32! üöÄüìê

**üìã –ò—Ç–æ–≥–æ–≤–∞—è –û—Ü–µ–Ω–∫–∞:** AgriSwarm - —ç—Ç–æ **–¥–æ–±—Ä–æ—Ç–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞** —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏, –Ω–æ **—Ç—Ä–µ–±—É—é—â–∞—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π**. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –∫–∞–ø—Ä–∏–∑–Ω–∞ –∏ —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —ç–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤ –∏ –æ–±—É—á–µ–Ω–∏—è, –Ω–æ –Ω–µ –¥–ª—è "–ø–æ—Å—Ç–∞–≤–∏–ª –∏ –∑–∞–±—ã–ª".
